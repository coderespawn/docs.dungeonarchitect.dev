<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-05-28T14:06:25.7894856"><title>Design your first Theme | Dungeon Architect for Unreal Engine</title><script type="application/json" id="virtual-toc-data">[{"id":"create-a-theme-file","level":0,"title":"Create a Theme File","anchor":"#create-a-theme-file"},{"id":"assign-grid-size","level":0,"title":"Assign Grid Size","anchor":"#assign-grid-size"},{"id":"use-sample-assets","level":0,"title":"Use Sample Assets","anchor":"#use-sample-assets"},{"id":"add-ground-mesh","level":0,"title":"Add Ground Mesh","anchor":"#add-ground-mesh"},{"id":"add-more-meshes","level":0,"title":"Add More Meshes","anchor":"#add-more-meshes"},{"id":"add-wall-pillars","level":0,"title":"Add Wall Pillars","anchor":"#add-wall-pillars"},{"id":"add-windows","level":0,"title":"Add Windows","anchor":"#add-windows"},{"id":"add-wall-decorations","level":0,"title":"Add Wall Decorations","anchor":"#add-wall-decorations"},{"id":"marker-emitters","level":0,"title":"Marker Emitters","anchor":"#marker-emitters"},{"id":"recap","level":0,"title":"Recap","anchor":"#recap"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Design your first Theme | Dungeon Architect for Unreal Engine"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Dungeon Architect for Unreal Engine Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/unreal/2.32/design-first-theme.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Design your first Theme | Dungeon Architect for Unreal Engine"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/unreal/2.32/design-first-theme.html#webpage",
    "url": "writerside-documentation/unreal/2.32/design-first-theme.html",
    "name": "Design your first Theme | Dungeon Architect for Unreal Engine",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/unreal/#website",
    "url": "writerside-documentation/unreal/",
    "name": "Dungeon Architect for Unreal Engine Help"
}</script><!-- End Schema.org --></head><body data-id="design-first-theme" data-main-title="Design your first Theme" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="getting-started-overview.md|Getting Started"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Dungeon Architect for Unreal Engine 2.32 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="design-first-theme" id="design-first-theme.md">Design your first Theme</h1><p id="-q771hc_266">A theme file lets you map the different assets (meshes, blueprints, lights etc) used to populate your dungeon.</p><figure id="-q771hc_267"><img alt="B 01" src="dungeon-architect-docs/B-01.jpg" title="B 01" width="2652" height="1633"></figure><p id="-q771hc_268">When a dungeon is built, it does not spawn any meshes. Instead, it scatters invisible points called <code class="code" id="-q771hc_269">Markers</code> all around the map (e.g. <code class="code" id="-q771hc_270">Wall</code>, <code class="code" id="-q771hc_271">Ground</code>, <code class="code" id="-q771hc_272">Door</code> etc.) where ever they are expected.</p><figure id="-q771hc_273"><img alt="B 02" src="dungeon-architect-docs/B-02.jpg" title="B 02" width="825" height="939"></figure><p id="-q771hc_274">The theme engine then runs and spawns any meshes/blueprints you specify under these markers</p><p id="-q771hc_275">In the previous section, we created a dungeon with an existing theme file. In this section, we'll create one ourselves</p><section class="chapter"><h2 id="create-a-theme-file" data-toc="create-a-theme-file">Create a Theme File</h2><p id="-q771hc_276">Right click on the <code class="code" id="-q771hc_277">Content Browser</code> and choose <code class="code" id="-q771hc_278">Dungeon Theme</code></p><figure id="-q771hc_279"><img alt="B 03" src="dungeon-architect-docs/B-03.png" title="B 03" width="329" height="1094"></figure><p id="-q771hc_280">This will create the Dungeon Theme asset. Double click it to open the Theme Editor</p><figure id="-q771hc_281"><img alt="B 03a" src="dungeon-architect-docs/B-03A.png" title="B 03a" width="513" height="498"></figure><figure id="-q771hc_282"><img alt="B 04" src="dungeon-architect-docs/B-04.jpg" title="B 04" width="2654" height="1635"></figure></section><section class="chapter"><h2 id="assign-grid-size" data-toc="assign-grid-size">Assign Grid Size</h2><p id="-q771hc_283">We'll use modular assets to populate our dungeon. As with any modular assets, they need to have a consistent size, so they all fit together nicely. You'll specify the grid size in the dungeon properties.</p><p id="-q771hc_284">With the theme editor open, click on an empty area of the graph and inspect the details panel</p><p id="-q771hc_285">The default grid size is <code class="code" id="-q771hc_286">(400, 400, 200)</code>. Leave this to the default for now, but you'll need to set this to the size of the modular art asset being used in the theme</p><figure id="-q771hc_287"><img alt="B 04b" src="dungeon-architect-docs/B-04B.png" title="B 04b" width="1105" height="632"></figure><aside class="prompt" data-type="note" data-title="" id="-q771hc_288"><p id="-q771hc_289">If you change this, you'll need to set this in the level editor's dungeon actor properties as well while building the dungeon</p></aside></section><section class="chapter"><h2 id="use-sample-assets" data-toc="use-sample-assets">Use Sample Assets</h2><p id="-q771hc_290">In the <code class="code" id="-q771hc_291">Content Browser</code>, <a href="create-first-dungeon.html#show-plugin-content" id="-q771hc_292" data-tooltip="We'd like to access an existing asset from Dungeon Architect plugin's content folder and we need to configure the Content Browser to show these assets">enable plugin contents</a>, so we can use sample meshes that come with the plugin to design our theme</p><aside class="prompt" data-type="note" data-title="" id="-q771hc_293"><p id="-q771hc_294">You can use any asset you like, but for this tutorial, lets stick with the sample assets</p></aside><p id="-q771hc_295">Navigate to <code class="code" id="-q771hc_296">Dungeon Architect Content &gt; Samples &gt; DA_Candy &gt; Meshes</code>. This folder contains a set of meshes we can use for our dungeon</p><figure id="-q771hc_297"><img alt="B 07" src="dungeon-architect-docs/B-07.jpg" title="B 07" width="1375" height="625"></figure></section><section class="chapter"><h2 id="add-ground-mesh" data-toc="add-ground-mesh">Add Ground Mesh</h2><p id="-q771hc_298">Drag-drop the ground mesh on to the Theme Editor</p><figure id="-q771hc_299"><img alt="B 08" src="dungeon-architect-docs/B-08.jpg" title="B 08" width="1120" height="1355"></figure><p id="-q771hc_300">Link up the mesh node with the <code class="code" id="-q771hc_301">Ground</code> marker node. When you do, you should see a live preview on theme editor's Preview Viewport window</p><figure id="-q771hc_302"><img alt="B 09" src="dungeon-architect-docs/B-09.jpg" title="B 09" width="204" height="266"></figure><figure id="-q771hc_303"><img alt="B 10" src="dungeon-architect-docs/B-10.jpg" title="B 10" width="2155" height="1363"></figure></section><section class="chapter"><h2 id="add-more-meshes" data-toc="add-more-meshes">Add More Meshes</h2><p id="-q771hc_304">Go ahead and add more meshes under the following markers: <span class="control" id="-q771hc_305">Wall</span>, <span class="control" id="-q771hc_306">Fence</span> and <span class="control" id="-q771hc_307">Door</span></p><figure id="-q771hc_308"><img alt="B 11" src="dungeon-architect-docs/B-11.jpg" title="B 11" width="789" height="468"></figure><figure id="-q771hc_309"><img alt="B 12" src="dungeon-architect-docs/B-12.jpg" title="B 12" width="942" height="506"></figure></section><section class="chapter"><h2 id="add-wall-pillars" data-toc="add-wall-pillars">Add Wall Pillars</h2><p id="-q771hc_310">Drag drop the <code class="code" id="-q771hc_311">Pillar2</code> mesh to the theme editor and link it to the <code class="code" id="-q771hc_312">WallSeparator</code> marker node</p><figure id="-q771hc_313"><img alt="B 13" src="dungeon-architect-docs/B-13.jpg" title="B 13" width="237" height="212"></figure><figure id="-q771hc_314"><img alt="B 14" src="dungeon-architect-docs/B-14.jpg" title="B 14" width="1055" height="507"></figure><p id="-q771hc_315">We'll need to make this pillar a bit bigger. Select the node you just dropped and modify the Scale parameter under Offset category</p><figure id="-q771hc_316"><img alt="B 15" src="dungeon-architect-docs/B-15.jpg" title="B 15" width="510" height="241"></figure><p id="-q771hc_317">The live preview should update automatically to show the new scaled pillars</p><figure id="-q771hc_318"><img alt="B 16" src="dungeon-architect-docs/B-16.jpg" title="B 16" width="940" height="571"></figure></section><section class="chapter"><h2 id="add-windows" data-toc="add-windows">Add Windows</h2><p id="-q771hc_319">We have two wall meshes in the samples folder</p><figure id="-q771hc_320"><img alt="B 17" src="dungeon-architect-docs/B-17.jpg" title="B 17" width="199" height="142"></figure><p id="-q771hc_321">The other one (<code class="code" id="-q771hc_322">Wall2</code>) has a window. Lets configure the theme to sometimes use this second mesh, so we can have some windows</p><p id="-q771hc_323">Drag drop <code class="code" id="-q771hc_324">Wall2</code> mesh on to the theme editor and place it <span class="control" id="-q771hc_325">before</span> (left of) the existing wall mesh node</p><figure id="-q771hc_326"><img alt="B 18a" src="dungeon-architect-docs/B-18A.jpg" title="B 18a" width="404" height="313"></figure><p id="-q771hc_327">Link them up. The execution index should get updated, indicating their execution order</p><figure id="-q771hc_328"><img alt="B 19" src="dungeon-architect-docs/B-19.jpg" title="B 19" width="401" height="334"></figure><p id="-q771hc_329">Notice that the first node has been picked up and all the walls have been replaced with the windowed version</p><figure id="-q771hc_330"><img alt="B 20" src="dungeon-architect-docs/B-20.jpg" title="B 20" width="1025" height="598"></figure><p id="-q771hc_331">This is because Dungeon Architect starts executing the nodes from left to right. When the condition was satisfied to pick the first node, it stopped execution and never came to the second node.</p><p id="-q771hc_332">There are multiple ways you can control this condition, the simplest being adjusting the probablity of selection.</p><p id="-q771hc_333">Select the node you just dropped and change the probability to <code class="code" id="-q771hc_334">0.5</code> (this would mean it gets selected 50% of the time). The other 50% of the time, it would not be selected and the execution would then move to the next node, and hence selecting the non-windowed wall node</p><figure id="-q771hc_335"><img alt="B 21" src="dungeon-architect-docs/B-21.jpg" title="B 21" width="801" height="366"></figure><figure id="-q771hc_336"><img alt="Half the walls now have windows" src="dungeon-architect-docs/B-22.jpg" title="Half the walls now have windows" width="680" height="391"></figure></section><section class="chapter"><h2 id="add-wall-decorations" data-toc="add-wall-decorations">Add Wall Decorations</h2><p id="-q771hc_337">There's a photo frame mesh we'd like to attach to every wall. Drag drop this mesh to the theme editor <span class="control" id="-q771hc_338">before</span> the two existing wall nodes and link it to the <code class="code" id="-q771hc_339">Wall</code> marker node</p><figure id="-q771hc_340"><img alt="B 23" src="dungeon-architect-docs/B-23.jpg" title="B 23" width="614" height="757"></figure><p id="-q771hc_341">This will cause all the walls to disappear and be replaced with this photo frame</p><figure id="-q771hc_342"><img alt="B 24" src="dungeon-architect-docs/B-24.jpg" title="B 24" width="1228" height="598"></figure><p id="-q771hc_343">This is because once the photo frame node was selected, the execution stopped there and the wall nodes further down the line were not executed.</p><p id="-q771hc_344">Selected the photo frame and uncheck the flag &quot;Consume on Attach&quot;. This will cause the execution to continue further even though this node was selected by the theming engine</p><figure id="-q771hc_345"><img alt="B 25" src="dungeon-architect-docs/B-25.png" title="B 25" width="521" height="200"></figure><figure id="-q771hc_346"><img alt="B 26" src="dungeon-architect-docs/B-26.jpg" title="B 26" width="680" height="237"></figure><p id="-q771hc_347">Lets adjust the offset of the photo frame (position and rotation) to make it properly align with the inner walls</p><p id="-q771hc_348">Select the photo frame node and change the Offset's <span class="control" id="-q771hc_349">Position</span> to <code class="code" id="-q771hc_350">(0, -22, 200)</code> and <span class="control" id="-q771hc_351">Rotation</span> to <code class="code" id="-q771hc_352">(0, 0, 180)</code></p><figure id="-q771hc_353"><img alt="B 27" src="dungeon-architect-docs/B-27.png" title="B 27" width="475" height="105"></figure><p id="-q771hc_354">The photo frame is aligned now with the walls correctly</p><figure id="-q771hc_355"><img alt="B 28" src="dungeon-architect-docs/B-28.jpg" title="B 28" width="680" height="308"></figure></section><section class="chapter"><h2 id="marker-emitters" data-toc="marker-emitters">Marker Emitters</h2><p id="-q771hc_356">We have an issue with the photo frames. They also spawn near windows</p><figure id="-q771hc_357"><img alt="B 29" src="dungeon-architect-docs/B-29.jpg" title="B 29" width="680" height="234"></figure><p id="-q771hc_358"><code class="code" id="-q771hc_359">Marker Emitters</code> allow you to emit marker names from any of your dropped mesh nodes. This means, we can define a new marker node (e.g. <code class="code" id="-q771hc_360">MyWallDeco</code>) and then emit that marker from the wall node that doesn't have a window (<code class="code" id="-q771hc_361">Wall1</code> mesh). All our wall decorations can now go under this <code class="code" id="-q771hc_362">MyWallDeco</code> marker and it will show up only near solid walls</p><p id="-q771hc_363">Right click on an empty area in the theme editor and select <code class="code" id="-q771hc_364">Add Marker Node</code></p><figure id="-q771hc_365"><img alt="B 30" src="dungeon-architect-docs/B-30.png" title="B 30" width="498" height="445"></figure><p id="-q771hc_366">Select the newly created marker node and change its name to <code class="code" id="-q771hc_367">MyWallDeco</code></p><figure id="-q771hc_368"><img alt="B 31" src="dungeon-architect-docs/B-31.png" title="B 31" width="343" height="171"></figure><p id="-q771hc_369">Break the link to the photo frame</p><figure id="-q771hc_370"><img alt="B 32" src="dungeon-architect-docs/B-32.png" title="B 32" width="628" height="332"></figure><p id="-q771hc_371">Connect this under <code class="code" id="-q771hc_372">MyWallDeco</code> marker node. All the future wall decorations can also go under this marker</p><figure id="-q771hc_373"><img alt="B 33" src="dungeon-architect-docs/B-33.jpg" title="B 33" width="794" height="426"></figure><p id="-q771hc_374">Now emit this marker from the wall node that doesn't contain a window</p><p id="-q771hc_375">Drag a link out of the bottom of the solid wall mesh node and release the mouse in an empty area</p><figure id="-q771hc_376"><img alt="B 34" src="dungeon-architect-docs/B-34.jpg" title="B 34" width="529" height="548"></figure><p id="-q771hc_377">Expand the category <code class="code" id="-q771hc_378">Marker Emitter</code> in the context menu and select <code class="code" id="-q771hc_379">MyWallDeco</code></p><figure id="-q771hc_380"><img alt="B 35" src="dungeon-architect-docs/B-35.jpg" title="B 35" width="568" height="613"></figure><figure id="-q771hc_381"><img alt="B 36" src="dungeon-architect-docs/B-36.jpg" title="B 36" width="428" height="432"></figure><p id="-q771hc_382">This will cause the marker named <code class="code" id="-q771hc_383">MyWallDeco</code> to be emitted in the scene whenever the solid wall node is selected, in which case it would then process the nodes defined under it. Now our decorations don't show up near windows</p><figure id="-q771hc_384"><img alt="B 37" src="dungeon-architect-docs/B-37.jpg" title="B 37" width="810" height="434"></figure><p id="-q771hc_385">You can follow the same method to create another type of decoration (e.g. MyWindowDeco) and emit it from under the windowed wall node. In this example, I've added a flower pot in the windows</p><figure id="-q771hc_386"><img alt="B 38" src="dungeon-architect-docs/B-38.jpg" title="B 38" width="1180" height="437"></figure><figure id="-q771hc_387"><img alt="B 39" src="dungeon-architect-docs/B-39.jpg" title="B 39" width="757" height="500"></figure></section><section class="chapter"><h2 id="recap" data-toc="recap">Recap</h2><p id="-q771hc_388">In this section we learnt the following:</p><ul class="list _bullet" id="-q771hc_389"><li class="list__item" id="-q771hc_390"><p><span class="emphasis" id="-q771hc_391">Probablity</span> - Controls the percentage chance of a node being selected. A value of 1 means 100% selection chance. A value of 0.25 means 25% selection chance</p></li><li class="list__item" id="-q771hc_392"><p><span class="emphasis" id="-q771hc_393">Execution Order</span> - The theme engine executes all the nodes under a marker node from left to right. If it selects a certain node, it stops executing, unless the <code class="code" id="-q771hc_394">Consume on Attach</code> flag is unchecked</p></li><li class="list__item" id="-q771hc_395"><p><span class="emphasis" id="-q771hc_396">Marker Emitters</span> - You can create complex hierarchies with your own marker nodes, giving you more freedom to decorate your dungeons</p></li></ul></section><div class="last-modified">Last modified: 28 May 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="create-first-dungeon.html" class="navigation-links__prev">Create your first Dungeon</a><a href="alignment-guides.html" class="navigation-links__next">Alignment Guides</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.js"></script>
    <script src="../js/unreal.js" defer></script>
</body></html>