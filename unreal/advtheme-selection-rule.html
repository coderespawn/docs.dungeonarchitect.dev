<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-11-15T18:12:42.4589695"><title>Selection Rule | Dungeon Architect for Unreal Engine</title><script type="application/json" id="virtual-toc-data">[{"id":"using-selection-rules","level":0,"title":"Using Selection Rules","anchor":"#using-selection-rules"},{"id":"example-1","level":0,"title":"Example #1","anchor":"#example-1"},{"id":"example-2","level":0,"title":"Example #2","anchor":"#example-2"},{"id":"example-3","level":0,"title":"Example #3","anchor":"#example-3"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Selection Rule | Dungeon Architect for Unreal Engine"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Dungeon Architect for Unreal Engine Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/unreal/2.32/advtheme-selection-rule.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Selection Rule | Dungeon Architect for Unreal Engine"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/unreal/2.32/advtheme-selection-rule.html#webpage",
    "url": "writerside-documentation/unreal/2.32/advtheme-selection-rule.html",
    "name": "Selection Rule | Dungeon Architect for Unreal Engine",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/unreal/#website",
    "url": "writerside-documentation/unreal/",
    "name": "Dungeon Architect for Unreal Engine Help"
}</script><!-- End Schema.org --></head><body data-id="advtheme-selection-rule" data-main-title="Selection Rule" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="advtheme-overview.md|Advanced Theming///advtheme-theming-rules.md|Theming Rules"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Dungeon Architect for Unreal Engine 2.32 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="advtheme-selection-rule" id="advtheme-selection-rule.md">Selection Rule</h1><p id="-6iqohy_3">A selection rule is a blueprint class (or C++ class) that is used to decide if the current node is to be attached to the scene. This rule replaces the default <span class="control" id="-6iqohy_9">Probability</span> property that is used for randomly deciding if visual node needs spawning based on a probability.</p><p id="-6iqohy_4">Selection rules gives you more power, when you need it. In the rule's blueprint logic, you can query the dungeon model and determin if this node should be inserted into the scene</p><section class="chapter"><h2 id="using-selection-rules" data-toc="using-selection-rules">Using Selection Rules</h2><p id="-6iqohy_10">To assing an existing rule into the node, Check the <span class="control" id="-6iqohy_18">Use Selection Logic</span> property and select the rule you would like to attach to the node from the dropdown list</p><figure id="-6iqohy_11"><img alt="Assign an existing Selection Rule" src="dungeon-architect-docs/G-selection_rule_01a.png" title="Assign an existing Selection Rule" width="412" height="175"></figure><p id="-6iqohy_12">Create a new selection rule by creating a new blueprint class derived from the appropriate DungeonSelectorLogic. It should match the builder you are targeting</p><figure id="-6iqohy_13"><img alt="Create a new Selection Rule" src="dungeon-architect-docs/G-create_rule_transform1.png" title="Create a new Selection Rule" width="544" height="567"></figure><p id="-6iqohy_14">Open up the blueprint and override the <span class="control" id="-6iqohy_19">Select Node</span> function. This function will be called by the engine and the logic you put here will let you decide if the node should to be selected</p><figure id="-6iqohy_15"><img alt="Override function to define logic" src="dungeon-architect-docs/G-selection_rule_04.png" title="Override function to define logic" width="303" height="132"></figure><p id="-6iqohy_16">The selection can be combined with the Probability varaible by unchecking <span class="control" id="-6iqohy_20">Logic Overrides Probability</span></p><figure id="-6iqohy_17"><img alt="Combine selection logic with Probability variable" src="dungeon-architect-docs/G-selection_rule_02b.png" title="Combine selection logic with Probability variable" width="613" height="182"></figure></section><section class="chapter"><h2 id="example-1" data-toc="example-1">Example #1</h2><p id="-6iqohy_21">Here is an example of a selection logic that selects a node only if the sum of their X and Y positions are even numbers (logic for a checkerboard pattern)</p><figure id="-6iqohy_22"><img alt="Override function to define logic" src="dungeon-architect-docs/G-selection_rule_05.png" title="Override function to define logic" width="1092" height="596"></figure><p id="-6iqohy_23">And the result after applying this rule to the ground node:</p><figure id="-6iqohy_24"><img alt="Custom selection rule attached to a mesh node" src="dungeon-architect-docs/G-selection_rule_06.jpg" title="Custom selection rule attached to a mesh node" width="1030" height="724"></figure><p id="-6iqohy_25">You can add more visual nodes and experiment with the <span class="control" id="-6iqohy_31">Consume on Attach</span> parameter to get interesting results</p><figure id="-6iqohy_26"><img alt="Multiple visual nodes working together" src="dungeon-architect-docs/G-selection_rule_07.jpg" title="Multiple visual nodes working together" width="1209" height="917"></figure><p id="-6iqohy_27">In the above example, the first node has <span class="control" id="-6iqohy_32">Consume on Attach</span> checked. So if your blueprint logic selects the node, the sandstone mesh will be inserted and the execution stops. However if the selection node doesn't select the node, the execution will always proceed to the next node and execute the mesh which inserts a clay brick mesh</p><figure id="-6iqohy_28"><img alt="G selection rule eg1 1" src="dungeon-architect-docs/G-selection_rule_eg1_1.jpg" title="G selection rule eg1 1" width="1167" height="830"></figure><p id="-6iqohy_29">In the above example, the selection rule is applied to the golden pillar. But whenever it is selected, it stops execution because the <span class="control" id="-6iqohy_33">Consume on Attach</span> variable is set and doesn't build a ground mesh there. Unchecking <span class="control" id="-6iqohy_34">Consume on Attach</span> on the first node lets the execution proceed even if it is inserted into the scene</p><figure id="-6iqohy_30"><img alt="G selection rule eg1 2" src="dungeon-architect-docs/G-selection_rule_eg1_2.jpg" title="G selection rule eg1 2" width="1167" height="830"></figure></section><section class="chapter"><h2 id="example-2" data-toc="example-2">Example #2</h2><p id="-6iqohy_35">This example places a stone mesh on the ground, but only if the cell is inside a room (and not a corridor)</p><figure id="-6iqohy_36"><img alt="Stone ground mesh selection only when inside rooms" src="dungeon-architect-docs/G-selection_rule_eg2_1.jpg" title="Stone ground mesh selection only when inside rooms" width="874" height="650"></figure><figure id="-6iqohy_37"><img alt="Room selector logic" src="dungeon-architect-docs/G-selection_rule_eg2_2.jpg" title="Room selector logic" width="891" height="316"></figure><p id="-6iqohy_38">The above Selection logic was attached to the stone mesh ground node so it gets selected only when the ground marker is inside a room</p></section><section class="chapter"><h2 id="example-3" data-toc="example-3">Example #3</h2><p id="-6iqohy_39">Ignore nodes that are near other markers. This is very useful if you don't want to place blocking items near stairs, doors etc</p><figure id="-6iqohy_40"><img alt="Query System" src="dungeon-architect-docs/G-query_grid_near_marker_1.png" title="Query System" width="1091" height="343"></figure><figure id="-6iqohy_41"><img alt="Query System" src="dungeon-architect-docs/G-query_grid_near_marker_2.jpg" title="Query System" width="820" height="746"></figure></section><div class="last-modified">Last modified: 15 November 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="advtheme-transform-rule.html" class="navigation-links__prev">Transform Rule</a><a href="advtheme-clustered-theming.html" class="navigation-links__next">Clustered Theming</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.js"></script>
    <script src="../js/unreal.js" defer></script>
</body></html>