<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-05-28T14:06:25.8150743"><title>Placeable Markers | Dungeon Architect for Unreal Engine</title><script type="application/json" id="virtual-toc-data">[{"id":"spawn-items-in-flow-graph","level":0,"title":"Spawn Items in Flow Graph","anchor":"#spawn-items-in-flow-graph"},{"id":"placeable-markers","level":0,"title":"Placeable Markers","anchor":"#placeable-markers"},{"id":"rebuild-module-database-cache","level":0,"title":"Rebuild Module Database Cache","anchor":"#rebuild-module-database-cache"},{"id":"update-theme-file","level":0,"title":"Update Theme File","anchor":"#update-theme-file"},{"id":"build-dungeon","level":0,"title":"Build Dungeon","anchor":"#build-dungeon"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Placeable Markers | Dungeon Architect for Unreal Engine"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Dungeon Architect for Unreal Engine Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/unreal/2.32/sgf-placeable-markers.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Placeable Markers | Dungeon Architect for Unreal Engine"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/unreal/2.32/sgf-placeable-markers.html#webpage",
    "url": "writerside-documentation/unreal/2.32/sgf-placeable-markers.html",
    "name": "Placeable Markers | Dungeon Architect for Unreal Engine",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/unreal/#website",
    "url": "writerside-documentation/unreal/",
    "name": "Dungeon Architect for Unreal Engine Help"
}</script><!-- End Schema.org --></head><body data-id="sgf-placeable-markers" data-main-title="Placeable Markers" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="sgf-introduction.md|Snap Grid Flow Builder"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Dungeon Architect for Unreal Engine 2.32 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="sgf-placeable-markers" id="sgf-placeable-markers.md">Placeable Markers</h1><p id="b1blom_256">In this section, we'll spawn items like NPCs, power ups etc in our dungeon.</p><p id="b1blom_257">For this, we'll do the following:</p><ul class="list _bullet" id="b1blom_258"><li class="list__item" id="b1blom_259"><p>Use the <code class="code" id="b1blom_260">Spawn Item</code> node in the flow graph. This will add items in the layout graph</p></li><li class="list__item" id="b1blom_261"><p>Create <code class="code" id="b1blom_262">Placeable Marker</code> assets in the content browser and drop a few of them in the snap modules so that the builder can spawn them at those places when necessary</p></li><li class="list__item" id="b1blom_263"><p>Use the Theme engine to spawn the markers</p></li></ul><section class="chapter"><h2 id="spawn-items-in-flow-graph" data-toc="spawn-items-in-flow-graph">Spawn Items in Flow Graph</h2><p id="b1blom_264">Open up the flow graph and assign the module database in the editor settings like before</p><figure id="b1blom_265"><img alt="J 73" src="dungeon-architect-docs/J-73.jpg" title="J 73" width="1394" height="983"></figure><p id="b1blom_266">Create a new <code class="code" id="b1blom_267">Spawn Items</code> node and link it up as shown below:</p><figure id="b1blom_268"><img alt="J 107" src="dungeon-architect-docs/J-107.png" title="J 107" width="577" height="285"></figure><figure id="b1blom_269"><img alt="J 108" src="dungeon-architect-docs/J-108.png" title="J 108" width="636" height="171"></figure><p id="b1blom_270">Inspect the properties of the <code class="code" id="b1blom_271">Spawn Items</code> node. Add two paths in the <code class="code" id="b1blom_272">Paths</code> array and assign the ids of the main path (<code class="code" id="b1blom_273">main</code>) and the alternate path (<code class="code" id="b1blom_274">alt</code>)</p><figure id="b1blom_275"><img alt="J 110" src="dungeon-architect-docs/J-110.png" title="J 110" width="327" height="339"></figure><p id="b1blom_276">We'd like to eventually spawn something in the modules using the theme file. We'll provide a marker name here, so we can create a corresponding marker node in the theme file and add our NPC blueprint there</p><p id="b1blom_277">Set the <code class="code" id="b1blom_278">Marker Name</code> parameter to <code class="code" id="b1blom_279">Grunt</code></p><p id="b1blom_280">Leave the rest of the properties unchanged and hit <code class="code" id="b1blom_281">Build</code></p><figure id="b1blom_282"><img alt="J 111" src="dungeon-architect-docs/J-111.jpg" title="J 111" width="801" height="532"></figure><p id="b1blom_283">The nodes now in the green path <code class="code" id="b1blom_284">(main)</code> and orange path <code class="code" id="b1blom_285">(alt)</code> have red enemy items that were created using the <code class="code" id="b1blom_286">Spawn Item</code> node</p><p id="b1blom_287">Add a description to this node</p><figure id="b1blom_288"><img alt="J 111b" src="dungeon-architect-docs/J-111B.png" title="J 111b" width="241" height="110"></figure><figure id="b1blom_289"><img alt="J 111c" src="dungeon-architect-docs/J-111C.png" title="J 111c" width="433" height="173"></figure></section><section class="chapter"><h2 id="placeable-markers" data-toc="placeable-markers">Placeable Markers</h2><p id="b1blom_290">A placeable marker is an asset you create in the content browser. You can then drag and drop these assets anywhere on the scene. You can then use the theme file to spawn objects at that location.</p><p id="b1blom_291">A placeable marker asset can contain more than one marker name. For example, a placeable marker asset named <code class="code" id="b1blom_292">PM_Enemies</code> may contain a list of marker names like (<code class="code" id="b1blom_293">Grunt</code>, <code class="code" id="b1blom_294">FireTroll</code>, <code class="code" id="b1blom_295">IceTroll</code>, <code class="code" id="b1blom_296">Goblin</code>). In your snap module, you'd place these markers in appropriate locations (say 10 different locations within the room).</p><p id="b1blom_297">If the dungeon builder needs to spawn a <code class="code" id="b1blom_298">Grunt</code> marker 4 times inside the room, it will first find all the existing and compatible marker assets placed in the room. In this case <code class="code" id="b1blom_299">PM_Enemies</code> would be compatible since it contains a <code class="code" id="b1blom_300">Grunt</code> marker. Since we have 10 of these in the room module, it will randomly pick 4 from them and use the theme file to spawn the grunt blueprint</p><section class="chapter"><h3 id="create-asset" data-toc="create-asset">Create Asset</h3><p id="b1blom_301">Right click on the Content Browser and choose <code class="code" id="b1blom_302">Dungeon Architect &gt; Placeable Marker</code></p><figure id="b1blom_303"><img alt="J 112" src="dungeon-architect-docs/J-112.png" title="J 112" width="529" height="507"></figure><p id="b1blom_304">Rename the asset to <code class="code" id="b1blom_305">PM_Enemies</code></p><figure id="b1blom_306"><img alt="J 113" src="dungeon-architect-docs/J-113.png" title="J 113" width="221" height="254"></figure><p id="b1blom_307">Double click the asset to open up the editor. Add a <code class="code" id="b1blom_308">Grunt</code> marker (since we specified this earlier in the <code class="code" id="b1blom_309">Spawn Items</code> node). Add a few more markers for future use like <code class="code" id="b1blom_310">IceTroll</code>, <code class="code" id="b1blom_311">FireTroll</code>, <code class="code" id="b1blom_312">Goblin</code></p><figure id="b1blom_313"><img alt="J 114" src="dungeon-architect-docs/J-114.png" title="J 114" width="483" height="314"></figure><p id="b1blom_314">Save the asset and close this editor</p></section><section class="chapter"><h3 id="add-to-snap-modules" data-toc="add-to-snap-modules">Add to Snap Modules</h3><p id="b1blom_315">Open up the previously created room module</p><figure id="b1blom_316"><img alt="J 115" src="dungeon-architect-docs/J-115.jpg" title="J 115" width="800" height="440"></figure><p id="b1blom_317">We've added a bit of geometry to the room. The snap system gives complete freedom to the artist to design the room as they see fit. In that same spirit, the artist should also have control on where the markers spawn. This is where placeable markers come in</p><p id="b1blom_318">Drag drop the placeable marker asset that you've created before, on to the scene</p><figure id="b1blom_319"><img alt="J 116" src="dungeon-architect-docs/J-116.jpg" title="J 116" width="803" height="910"></figure><p id="b1blom_320">When you drag drop a marker asset in the scene, it will create a placeable marker actor. Select the actor that you just dropped</p><p id="b1blom_321">It will show some debug info, like the maker asset name, and the marker names it contains</p><figure id="b1blom_322"><img alt="J 117" src="dungeon-architect-docs/J-117.jpg" title="J 117" width="365" height="297"></figure><p id="b1blom_323">Rotate the actor as needed. The red arrow shows the orientation of the marker. When the theme engine spawns an actor here, it will do so with this rotation</p><figure id="b1blom_324"><img alt="J 118" src="dungeon-architect-docs/J-118.jpg" title="J 118" width="213" height="176"></figure><p id="b1blom_325">Add a few more markers. Add at least 4 markers, since we are adding a maximum of 4 enemy items per node in the flow graph using <code class="code" id="b1blom_326">Spawn Item</code>, but adding more is always better. We'll add a few on top of the bridge, on the ramp, and some more on the ground</p><figure id="b1blom_327"><img alt="J 119" src="dungeon-architect-docs/J-119.jpg" title="J 119" width="800" height="594"></figure><figure id="b1blom_328"><img alt="J 120" src="dungeon-architect-docs/J-120.jpg" title="J 120" width="1091" height="695"></figure><figure id="b1blom_329"><img alt="J 121" src="dungeon-architect-docs/J-121.jpg" title="J 121" width="800" height="589"></figure><p id="b1blom_330">Do this for all the modules you've created so far that would need this marker in it</p><p id="b1blom_331">Open up the Lift module and add a few more placeable markers there</p><figure id="b1blom_332"><img alt="J 122" src="dungeon-architect-docs/J-122.jpg" title="J 122" width="800" height="457"></figure></section></section><section class="chapter"><h2 id="rebuild-module-database-cache" data-toc="rebuild-module-database-cache">Rebuild Module Database Cache</h2><p id="b1blom_333">If you add / remove a placeable marker from a snap module, you'll need to rebuild the module database cache</p><p id="b1blom_334">Open up the Module database we've created in the previous section and click <code class="code" id="b1blom_335">Build Module Cache</code> button. Save and close the module database editor</p><figure id="b1blom_336"><img alt="J 45" src="dungeon-architect-docs/J-45.png" title="J 45" width="673" height="205"></figure><aside class="prompt" data-type="warning" data-title="" id="b1blom_337"><p id="b1blom_338">This is an important step. Remember to rebuild the cache when needed</p></aside></section><section class="chapter"><h2 id="update-theme-file" data-toc="update-theme-file">Update Theme File</h2><p id="b1blom_339">We'll use a theme file to actually spawn our enemy blueprint.</p><section class="chapter"><h3 id="open-theme-editor" data-toc="open-theme-editor">Open Theme Editor</h3><p id="b1blom_340">Open up the existing theme file we created in the previous section.</p><figure id="b1blom_341"><img alt="J 123" src="dungeon-architect-docs/J-123.jpg" title="J 123" width="800" height="521"></figure></section><section class="chapter"><h3 id="change-builder-type" data-toc="change-builder-type">Change Builder Type</h3><p id="b1blom_342">Click somewhere on an empty space in the graph to show the theme properties in the Details tab.</p><p id="b1blom_343">Scroll down to the Advanced section and set the <code class="code" id="b1blom_344">Builder Class</code> to <code class="code" id="b1blom_345">SnapGridFlowBuilder</code></p><figure id="b1blom_346"><img alt="J 124" src="dungeon-architect-docs/J-124.jpg" title="J 124" width="442" height="353"></figure><p id="b1blom_347">This will update all the marker nodes for that builder.</p><figure id="b1blom_348"><img alt="J 125" src="dungeon-architect-docs/J-125.jpg" title="J 125" width="800" height="521"></figure><aside class="prompt" data-type="note" data-title="" id="b1blom_349"><p id="b1blom_350">This will remove unused marker nodes and add the necessary marker nodes used by this builder. Since the Snap Grid Flow builder doesn't have any built-in marker nodes, it will not create any new nodes</p></aside></section><section class="chapter"><h3 id="create-marker" data-toc="create-marker">Create Marker</h3><p id="b1blom_351">In the previous section, we assign the marker name of <code class="code" id="b1blom_352">Grunt</code> in the <code class="code" id="b1blom_353">Spawn Items</code> node. In the theme file, we'll create a new marker node and name it <code class="code" id="b1blom_354">Grunt</code></p><p id="b1blom_355">Right click on the graph and choose <code class="code" id="b1blom_356">Add Marker Node</code></p><figure id="b1blom_357"><img alt="J 126" src="dungeon-architect-docs/J-126.png" title="J 126" width="517" height="318"></figure><p id="b1blom_358">Select the marker node and change the Marker name to <code class="code" id="b1blom_359">Grunt</code> in the properties</p><figure id="b1blom_360"><img alt="J 127" src="dungeon-architect-docs/J-127.png" title="J 127" width="269" height="156"></figure><figure id="b1blom_361"><img alt="J 128" src="dungeon-architect-docs/J-128.png" title="J 128" width="295" height="156"></figure><figure id="b1blom_362"><img alt="J 129" src="dungeon-architect-docs/J-129.png" title="J 129" width="251" height="118"></figure></section><section class="chapter"><h3 id="add-enemy-actor" data-toc="add-enemy-actor">Add Enemy actor</h3><p id="b1blom_363">Add your NPC character blueprint here. For this tutorial, we'll add a cube and adjust the size and scale</p><p id="b1blom_364">Resize the theme editor a bit and drag drop the proto cube on to the theme editor</p><figure id="b1blom_365"><img alt="J 130" src="dungeon-architect-docs/J-130.jpg" title="J 130" width="803" height="736"></figure><p id="b1blom_366">This will create a new mesh node. Add it to the <code class="code" id="b1blom_367">Grunt</code> marker node</p><figure id="b1blom_368"><img alt="J 131" src="dungeon-architect-docs/J-131.jpg" title="J 131" width="251" height="312"></figure><p id="b1blom_369">Select the cube mesh node and set the scale to <code class="code" id="b1blom_370">(1, 1, 2)</code></p><figure id="b1blom_371"><img alt="J 132" src="dungeon-architect-docs/J-132.jpg" title="J 132" width="595" height="272"></figure><p id="b1blom_372">Add a Material Override entry</p><figure id="b1blom_373"><img alt="J 133" src="dungeon-architect-docs/J-133.png" title="J 133" width="389" height="278"></figure><p id="b1blom_374">Assign a red material to it</p><figure id="b1blom_375"><img alt="J 134" src="dungeon-architect-docs/J-134.jpg" title="J 134" width="800" height="595"></figure><p id="b1blom_376">Save and close the Theme Editor</p></section></section><section class="chapter"><h2 id="build-dungeon" data-toc="build-dungeon">Build Dungeon</h2><p id="b1blom_377">Open the map where we previously configured our dungeon and build it.</p><p id="b1blom_378">You'll see that enemies start to spawn at the locations where you've placed the markers</p><figure id="b1blom_379"><img alt="J 135" src="dungeon-architect-docs/J-135.jpg" title="J 135" width="800" height="486"></figure><figure id="b1blom_380"><img alt="J 136" src="dungeon-architect-docs/J-136.jpg" title="J 136" width="800" height="499"></figure><p id="b1blom_381">You can use this system to spawn anything (treasure chests, weapon racks, power ups or any gameplay blueprint)</p></section><div class="last-modified">Last modified: 28 May 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="sgf-build-dungeon.html" class="navigation-links__prev">Build Dungeon</a><a href="sgf-setup-key-locks.html" class="navigation-links__next">Setup Key-Locks</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.js"></script>
    <script src="../js/unreal.js" defer></script>
</body></html>