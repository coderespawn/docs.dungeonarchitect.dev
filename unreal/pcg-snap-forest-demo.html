<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-09-13T00:42:50.9630798"><title>Snap Forest PCG Demo | Dungeon Architect for Unreal Engine</title><script type="application/json" id="virtual-toc-data">[{"id":"module-creation","level":0,"title":"Module Creation","anchor":"#module-creation"},{"id":"snap-connection","level":0,"title":"Snap Connection","anchor":"#snap-connection"},{"id":"module-database","level":0,"title":"Module Database","anchor":"#module-database"},{"id":"flow-graph","level":0,"title":"Flow Graph","anchor":"#flow-graph"},{"id":"setup-dungeon-actor","level":0,"title":"Setup Dungeon Actor","anchor":"#setup-dungeon-actor"},{"id":"troubleshoot","level":0,"title":"Troubleshoot","anchor":"#troubleshoot"},{"id":"improved-flow-graph","level":0,"title":"Improved Flow Graph","anchor":"#improved-flow-graph"},{"id":"generate-persistent-level","level":0,"title":"Generate Persistent Level","anchor":"#generate-persistent-level"},{"id":"pcg-post-build-setup","level":0,"title":"PCG Post Build Setup","anchor":"#pcg-post-build-setup"},{"id":"forest-pcg-blueprint","level":0,"title":"Forest PCG Blueprint","anchor":"#forest-pcg-blueprint"},{"id":"ground-pcg-graph","level":0,"title":"Ground PCG Graph","anchor":"#ground-pcg-graph"},{"id":"pcg-post-destroy-setup","level":0,"title":"PCG Post Destroy setup","anchor":"#pcg-post-destroy-setup"},{"id":"connection","level":0,"title":"Connection","anchor":"#connection"},{"id":"opening-up-connections","level":0,"title":"Opening up connections","anchor":"#opening-up-connections"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b408/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Snap Forest PCG Demo | Dungeon Architect for Unreal Engine"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Dungeon Architect for Unreal Engine Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/unreal/2.32/pcg-snap-forest-demo.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Snap Forest PCG Demo | Dungeon Architect for Unreal Engine"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/unreal/2.32/pcg-snap-forest-demo.html#webpage",
    "url": "writerside-documentation/unreal/2.32/pcg-snap-forest-demo.html",
    "name": "Snap Forest PCG Demo | Dungeon Architect for Unreal Engine",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/unreal/#website",
    "url": "writerside-documentation/unreal/",
    "name": "Dungeon Architect for Unreal Engine Help"
}</script><!-- End Schema.org --></head><body data-id="pcg-snap-forest-demo" data-main-title="Snap Forest PCG Demo" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="pcg-section-overview.md|PCG Integration"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Dungeon Architect for Unreal Engine 2.32 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="pcg-snap-forest-demo" id="pcg-snap-forest-demo.md">Snap Forest PCG Demo</h1><p id="-1h26ev_3">In this tutorial, we'll be creating this:</p><div class="video-player" id="-1h26ev_4"><object class="article__bordered-element" width="560" height="315" data-theme="light" type="application/x-shockwave-flash" data="https://www.youtube.com/v/iplZmwlaSq0?color2=FBE9EC&amp;rel=0&amp;hd=1&amp;autoplay=0&amp;version=3&amp;modestbranding=1&amp;fs=1"></object></div><p id="-1h26ev_5">This tutorial build on these two existing tutorials:</p><ul class="list _bullet" id="-1h26ev_6"><li class="list__item" id="-1h26ev_31"><p><a href="pcg-framework-overview.html" id="-1h26ev_33" data-tooltip="In this tutorial, we'll have a look at the PCG framework and how it's used in the Electric Dreams sample">PCG Framework Overview</a></p></li><li class="list__item" id="-1h26ev_32"><p><a href="snapflow-custom-module-bounds.html" id="-1h26ev_34" data-tooltip="Define snap module bounds using custom shapes. This opens up lots of possibilities for snap map based dungeons. In the previous examples, the doors were aligned at the edges of the axis-aligned bounding box. Now you can place the doors at any orientation, at the edge of your customâ€¦">Custom Snap Bound Shapes</a></p></li></ul><p id="-1h26ev_7">Please go through those first, if you haven't done so already</p><p id="-1h26ev_8">Download and load up the <a href="https://www.unrealengine.com/en-US/electric-dreams-environment" id="-1h26ev_35" data-external="true" rel="noopener noreferrer">Electric Dreams</a> project</p><p id="-1h26ev_9">Create a new Open World level</p><figure id="-1h26ev_10"><img alt="image|534x454" src="dungeon-architect-docs/PCG-02-8ed4a8e559189c6d07770f1d343f471a13c97213.png" title="image|534x454" width="534" height="454"></figure><p id="-1h26ev_11">Assign the landscape material</p><figure id="-1h26ev_12"><img alt="image|690x336" src="dungeon-architect-docs/PCG-02-70b4f7fea37337eb5cdbc6ae039459a338812537.jpeg" title="image|690x336" width="1121" height="546"></figure><p id="-1h26ev_13">and drop in a Dungeon Actor and reset the location to ground level (e.g. 0,0,0)</p><figure id="-1h26ev_14"><img alt="image|607x440" src="dungeon-architect-docs/PCG-02-1465c6a79763fa330c695708bc13078284fd5f1b.jpeg" title="image|607x440" width="607" height="440"></figure><p id="-1h26ev_15">Set the builder type to SnapMap</p><figure id="-1h26ev_16"><img alt="image|548x500" src="dungeon-architect-docs/PCG-02-5a70eaba8f2f8cded2e683073ee1d078d10aacf1.png" title="image|548x500" width="695" height="633"></figure><section class="chapter"><h2 id="module-creation" data-toc="module-creation">Module Creation</h2><p id="-1h26ev_36">We'll create individual modules, like you see in the video above. Save this level then create a new empty level for our module</p><aside class="prompt" data-type="tip" data-title="" id="-1h26ev_37"><p id="-1h26ev_44">NOTE: Modules are rooms that are stitched together using the SnapMap builder</p></aside><figure id="-1h26ev_38"><img alt="image|534x462" src="dungeon-architect-docs/PCG-02-0a1d3fbe9190fb187cf8f046b16e1bab4f29048b.png" title="image|534x462" width="534" height="462"></figure><figure id="-1h26ev_39"><img alt="image|690x432" src="dungeon-architect-docs/PCG-02-2bf9b38b86d8e0a5d79fe4e1beba800b46223e18.jpeg" title="image|690x432" width="1210" height="759"></figure><p id="-1h26ev_40">Select the ditch blueprint and select the Spline component, so you can visualizae and modify the spline shape</p><figure id="-1h26ev_41"><img alt="image|690x348" src="dungeon-architect-docs/PCG-02-1f82e37f3332cd80ed7cb7c92528a6487464d32c.jpeg" title="image|690x348" width="1249" height="631"></figure><p id="-1h26ev_42">With the Spline component selected, enabled &quot;Debug Draw&quot; so you can view the spline shape even when the ditch actor is not selected. We'll need this for propertly aligning the connections</p><figure id="-1h26ev_43"><img alt="image|568x500" src="dungeon-architect-docs/PCG-02-3e88f64d8de6d135d3a41fe73af11e8829a2477c.png" title="image|568x500" width="832" height="732"></figure></section><section class="chapter"><h2 id="snap-connection" data-toc="snap-connection">Snap Connection</h2><p id="-1h26ev_45">Create an empty snap connection asset.</p><figure id="-1h26ev_46"><img alt="image|690x444" src="dungeon-architect-docs/PCG-02-2214aa7eeccefbad8883be84035aacf4964080a2.png" title="image|690x444" width="777" height="501"></figure><p id="-1h26ev_47">Drop this connection in a few places around the spline. Don't keep it too close to the spline as the art assets that the ditch blueprint creates around this spline are a bit further away. Place them like this:</p><figure id="-1h26ev_48"><img alt="image|690x376" src="dungeon-architect-docs/PCG-02-954d02f26c3e0497871fccb9edb34fcefc7ffafc.jpeg" title="image|690x376" width="1794" height="980"></figure><p id="-1h26ev_49">Make sure the red connection arrows are facing outwards</p><p id="-1h26ev_50">Next, drop in a <code class="code" id="-1h26ev_58">Snap Map Module Bounds</code> actor</p><figure id="-1h26ev_51"><img alt="image|396x195" src="dungeon-architect-docs/PCG-02-71c3a98fb04c75fdbd56a395d1ecf151e7881311.png" title="image|396x195" width="396" height="195"></figure><p id="-1h26ev_52">Add more points as needed and wrap it around the spline shape. Keep it a bit further away from the spline, as the ditch spline creates the assets outside the spline shape. Make sure the bounds are near the snap connection actor</p><figure id="-1h26ev_53"><img alt="image|690x381" src="dungeon-architect-docs/PCG-02-e0b0630e4768d2d224068666661ddbc400cdb8ab.jpeg" title="image|690x381" width="1647" height="910"></figure><p id="-1h26ev_54">You may switch to the top view to align everything</p><figure id="-1h26ev_55"><img alt="image|690x418" src="dungeon-architect-docs/PCG-02-83c5ddcefce3b715e95ccec310541e6e0cdef497.png" title="image|690x418" width="1596" height="969"></figure><p id="-1h26ev_56">Save the module level</p><figure id="-1h26ev_57"><img alt="image|253x286" src="dungeon-architect-docs/PCG-02-2813fa0045400cd8c0745dddfb6720d8f0fade88.png" title="image|253x286" width="253" height="286"></figure></section><section class="chapter"><h2 id="module-database" data-toc="module-database">Module Database</h2><p id="-1h26ev_59">Create a SnapMap module database and register this module.</p><figure id="-1h26ev_60"><img alt="image|690x440" src="dungeon-architect-docs/PCG-02-cef381aa80412814214d6a1601c8c108ec14c58f.jpeg" title="image|690x440" width="881" height="562"></figure><figure id="-1h26ev_61"><img alt="image|567x499" src="dungeon-architect-docs/PCG-02-780374ca089e99edc182e34a10e73704ce38420d.jpeg" title="image|567x499" width="1101" height="970"></figure><p id="-1h26ev_62">Build module database cache</p><figure id="-1h26ev_63"><img alt="image|405x149" src="dungeon-architect-docs/PCG-02-0ac3a1129f0d25c82ff53322155ae1a8da41bb24.png" title="image|405x149" width="405" height="149"></figure></section><section class="chapter"><h2 id="flow-graph" data-toc="flow-graph">Flow Graph</h2><p id="-1h26ev_64">Create a SnapMap flow graph. These are rules for stitching the levels. Right now we have only one module, registered under the name &quot;Room&quot; in the module database created above</p><figure id="-1h26ev_65"><img alt="image|690x445" src="dungeon-architect-docs/PCG-02-f0e83f01702ce6dbda3691db264c9b4ba0cd18a8.jpeg" title="image|690x445" width="769" height="496"></figure><p id="-1h26ev_66">Add a new node and name it <code class="code" id="-1h26ev_71">Room</code>. We name it <code class="code" id="-1h26ev_72">Room</code> because we've registerd our module in the ModuleDB with this name</p><figure id="-1h26ev_67"><img alt="image|690x334" src="dungeon-architect-docs/PCG-02-0590a0611adc0887f60e79a6ab85b375b2f86e5e.png" title="image|690x334" width="1234" height="599"></figure><p id="-1h26ev_68">Select the Start Rule and add two <code class="code" id="-1h26ev_73">Room</code> nodes on the RHS graph and connect them up</p><figure id="-1h26ev_69"><img alt="image|582x499" src="dungeon-architect-docs/PCG-02-ea9462d152364140b434c2f224f5995faba77039.png" title="image|582x499" width="977" height="838"></figure><p id="-1h26ev_70">This will connect two rooms together. We start with a small graph to make sure the connection setup works. Then we'll move to a larger graphs</p></section><section class="chapter"><h2 id="setup-dungeon-actor" data-toc="setup-dungeon-actor">Setup Dungeon Actor</h2><p id="-1h26ev_74">Open up the first map we created and select the Dungeon Actor</p><figure id="-1h26ev_75"><img alt="image|690x324" src="dungeon-architect-docs/PCG-02-c9bd39d79458b6fce5d9b1b32f4b5403ed9a62f7.jpeg" title="image|690x324" width="1303" height="612"></figure><p id="-1h26ev_76">Change the Builder Class to <code class="code" id="-1h26ev_83">Snap Map</code></p><figure id="-1h26ev_77"><img alt="image|500x500" src="dungeon-architect-docs/PCG-02-d84389aead025cb5d90209c5f89399c66aa736de.png" title="image|500x500" width="578" height="578"></figure><p id="-1h26ev_78">Then assign the assets we created</p><figure id="-1h26ev_79"><img alt="image|690x479" src="dungeon-architect-docs/PCG-02-63ba7790d059436e06eb74f7c990f17e818eff4c.jpeg" title="image|690x479" width="1139" height="791"></figure><p id="-1h26ev_80">Click <code class="code" id="-1h26ev_84">Build Dungeon</code>, it should stitch the two modules together</p><figure id="-1h26ev_81"><img alt="image|690x335" src="dungeon-architect-docs/PCG-02-7a503c461612bb1d20a2443b9bca45a6ea25510f.jpeg" title="image|690x335" width="1676" height="815"></figure><figure id="-1h26ev_82"><img alt="image|690x335" src="dungeon-architect-docs/PCG-02-baf6d9236f7e0e8e5246d0405b8aa3540fa31534.jpeg" title="image|690x335" width="1676" height="815"></figure></section><section class="chapter"><h2 id="troubleshoot" data-toc="troubleshoot">Troubleshoot</h2><p id="-1h26ev_85">If it didn't build, make sure the connection points are not too far inside the module bounds</p><p id="-1h26ev_86">This is how a successful stitch looks like</p><figure id="-1h26ev_87"><img alt="image|616x500" src="dungeon-architect-docs/PCG-02-965c2624cb042bd04a01b8c6bf0873f7f3165f38.png" title="image|616x500" width="930" height="754"></figure><p id="-1h26ev_88">Either update your connection point positions and rebuild your module database (important!) or increase the collision tollerance to a higher number, this is the amount of overlap the system would tolerate</p><figure id="-1h26ev_89"><img alt="image|341x294" src="dungeon-architect-docs/PCG-02-760d37a5be5b87cf1c54a071c758e64a043cb8e3.png" title="image|341x294" width="341" height="294"></figure></section><section class="chapter"><h2 id="improved-flow-graph" data-toc="improved-flow-graph">Improved Flow Graph</h2><p id="-1h26ev_90">Now that we have this working, open up the flow graph and add a more complex rule</p><figure id="-1h26ev_91"><img alt="image|513x500" src="dungeon-architect-docs/PCG-02-88f8c3642cc2e77a5b07580f297da83982592ee0.png" title="image|513x500" width="809" height="788"></figure><p id="-1h26ev_92">Build the dungeon</p><figure id="-1h26ev_93"><img alt="image|690x322" src="dungeon-architect-docs/PCG-02-fcd35855da5fcbf6e6779b9ade09c01c1bef9d05.jpeg" title="image|690x322" width="1425" height="667"></figure><p id="-1h26ev_94">Randomize, Click Build</p><figure id="-1h26ev_95"><img alt="image|687x500" src="dungeon-architect-docs/PCG-02-7d1584c2b2e4699264d42c52e258dfb5c9360806.jpeg" title="image|687x500" width="970" height="705"></figure><figure id="-1h26ev_96"><img alt="image|690x424" src="dungeon-architect-docs/PCG-02-9f98755562feb1bf69440c8781e64669743221ad.jpeg" title="image|690x424" width="1125" height="692"></figure></section><section class="chapter"><h2 id="generate-persistent-level" data-toc="generate-persistent-level">Generate Persistent Level</h2><p id="-1h26ev_97">After we generate the dungeon, we want to pass this spline information to the PCG system. So we don't need level streaming here and everything needs to be generated in the current persistent level</p><p id="-1h26ev_98">Select the dungeon actor and enable <code class="code" id="-1h26ev_100">GenerateSinglePersistentDungeon</code></p><figure id="-1h26ev_99"><img alt="image|690x198" src="dungeon-architect-docs/PCG-02-32a19607c0a146262540f8941bd6f1a751c17f50.png" title="image|690x198" width="758" height="218"></figure></section><section class="chapter"><h2 id="pcg-post-build-setup" data-toc="pcg-post-build-setup">PCG Post Build Setup</h2><p id="-1h26ev_101">After we spawn our rooms into the world (which are ditch splines) We want the PCG system to build everything. Lets create a post build event for it</p><figure id="-1h26ev_102"><img alt="image|232x500" src="dungeon-architect-docs/PCG-02-665baf9e259d4f37411ba741c684bc4c2f41e952.png" title="image|232x500" width="437" height="940"></figure><figure id="-1h26ev_103"><img alt="image|406x432" src="dungeon-architect-docs/PCG-02-3965f66f3228b4f9dac7c75847273d8be4ad70b9.png" title="image|406x432" width="406" height="432"></figure><p id="-1h26ev_104">Open it up and override the <code class="code" id="-1h26ev_113">OnPostDungeonBuilt</code> function</p><figure id="-1h26ev_105"><img alt="image|690x286" src="dungeon-architect-docs/PCG-02-3e763f8dd1f241058b8ddfad2dc0eef4f8edb052.png" title="image|690x286" width="938" height="390"></figure><p id="-1h26ev_106">In this function, we're going to iterate through all the <code class="code" id="-1h26ev_114">PCGDemo_DitchBP</code> blueprints that were spawned as part of the room module and call the <code class="code" id="-1h26ev_115">Clean Regen</code> function on it.</p><p id="-1h26ev_107">Dungeon Architect has a <code class="code" id="-1h26ev_116">DAGetAllActorsOfClass</code> helper node for this</p><figure id="-1h26ev_108"><img alt="image|690x186" src="dungeon-architect-docs/PCG-02-450ec78e9f9f8061ec52943743a04faad0bc3daa.png" title="image|690x186" width="1300" height="351"></figure><p id="-1h26ev_109">Assign this to the dungeon actor's <code class="code" id="-1h26ev_117">Event Listener</code> list</p><figure id="-1h26ev_110"><img alt="image|379x499" src="dungeon-architect-docs/PCG-02-4124ab06d0a6af24f69e697b6b6683579ac0f7cb.png" title="image|379x499" width="565" height="744"></figure><p id="-1h26ev_111">Rebuild the dungeon and it should build the ditch blueprints</p><figure id="-1h26ev_112"><img alt="image|690x416" src="dungeon-architect-docs/PCG-02-ca439f431da13036d863a63799f2ae5af369be0d.jpeg" title="image|690x416" width="1724" height="1040"></figure></section><section class="chapter"><h2 id="forest-pcg-blueprint" data-toc="forest-pcg-blueprint">Forest PCG Blueprint</h2><p id="-1h26ev_118">Next, drop in a forest PCG bluerpint <code class="code" id="-1h26ev_124">PCGDemo_ForestBP</code> anywhere on the scene</p><figure id="-1h26ev_119"><img alt="image|690x364" src="dungeon-architect-docs/PCG-02-7fb706f2f4d5eb9679efd9b29027f6334a933ff5.jpeg" title="image|690x364" width="1624" height="858"></figure><p id="-1h26ev_120">We'll invoke the Forest PCG bluerpint on our dungeon post build event</p><figure id="-1h26ev_121"><img alt="image|690x330" src="dungeon-architect-docs/PCG-02-7d7b8de5f29042bc7474eaf30346668b0efd5d16.png" title="image|690x330" width="1390" height="665"></figure><p id="-1h26ev_122">Destroy the current dungeon and rebuild the dungeon</p><figure id="-1h26ev_123"><img alt="image|690x253" src="dungeon-architect-docs/PCG-02-b44a843e2f4f80b2974a5b0ae14ccfee82528a3d.jpeg" title="image|690x253" width="1920" height="706"></figure></section><section class="chapter"><h2 id="ground-pcg-graph" data-toc="ground-pcg-graph">Ground PCG Graph</h2><p id="-1h26ev_125">Drop in the <code class="code" id="-1h26ev_130">Content/PCG/Graphs/Ground/PCGDemo_GroundBP</code> blueprint anywhere on to the scene</p><figure id="-1h26ev_126"><img alt="image|562x500" src="dungeon-architect-docs/PCG-02-77a4777fad59448113cc6ccf49ce53d92e28a45a.jpeg" title="image|562x500" width="1058" height="940"></figure><figure id="-1h26ev_127"><img alt="image|690x341" src="dungeon-architect-docs/PCG-02-d0a32554e4d93cf6829f589f44d0796d2cd588a0.jpeg" title="image|690x341" width="1920" height="949"></figure><p id="-1h26ev_128">Lets invoke this PCG as well, after our dungeon builds</p><figure id="-1h26ev_129"><img alt="image|690x441" src="dungeon-architect-docs/PCG-02-b8a679199e5ee8d42bd2a8d00d6ac617472fe721.png" title="image|690x441" width="1406" height="900"></figure></section><section class="chapter"><h2 id="pcg-post-destroy-setup" data-toc="pcg-post-destroy-setup">PCG Post Destroy setup</h2><p id="-1h26ev_131">We want to cleanup and rebuild the forest after the dungeon is destroyed</p><p id="-1h26ev_132">Override the <code class="code" id="-1h26ev_139">OnPostDungeonDestroyed</code> function</p><figure id="-1h26ev_133"><img alt="image|690x183" src="dungeon-architect-docs/PCG-02-2289ce566126936802b59ad528f6a3b2315073a8.png" title="image|690x183" width="770" height="205"></figure><p id="-1h26ev_134">and perform cleanup like this:</p><figure id="-1h26ev_135"><img alt="image|690x320" src="dungeon-architect-docs/PCG-02-d9d760004ce485e667b1b69e9c531d2fa5a03da9.png" title="image|690x320" width="1720" height="799"></figure><p id="-1h26ev_136">Destroying the dungeon should remove the forest</p><figure id="-1h26ev_137"><img alt="image|690x306" src="dungeon-architect-docs/PCG-02-23bb24c1ac074e24d46e737925fc1dd642f0ba68.jpeg" title="image|690x306" width="1834" height="814"></figure><figure id="-1h26ev_138"><img alt="image|690x306" src="dungeon-architect-docs/PCG-02-dd899f95c2abac7c4178a6d8a0553ba7143f58c6.jpeg" title="image|690x306" width="1834" height="814"></figure></section><section class="chapter"><h2 id="connection" data-toc="connection">Connection</h2><p id="-1h26ev_140">The adjacent room connections look like this. The geometry from the other room is overlaping</p><figure id="-1h26ev_141"><img alt="image|690x270" src="dungeon-architect-docs/PCG-02-fbba8e12156fe6c893e598b0dff3af1c5c9d700d.jpeg" title="image|690x270" width="1920" height="752"></figure><p id="-1h26ev_142">Open up the module and increase the bounds. Also move the connection points outwards (this depends on your art asset placement)</p><figure id="-1h26ev_143"><img alt="image|545x500" src="dungeon-architect-docs/PCG-02-f2d0d09e1a2541c5409e4520acc45db706543d79.png" title="image|545x500" width="856" height="785"></figure><p id="-1h26ev_144">Save and rebuild the module database cache. Then rebuild the dungeon</p><figure id="-1h26ev_145"><img alt="image|690x293" src="dungeon-architect-docs/PCG-02-7ffd4538a20c7312216c6f5c549dfb1d175df812.jpeg" title="image|690x293" width="1886" height="802"></figure></section><section class="chapter"><h2 id="opening-up-connections" data-toc="opening-up-connections">Opening up connections</h2><p id="-1h26ev_146">Now we need to create a gap so the player can walk through to the other room</p><p id="-1h26ev_147">The forest and ditch PCG graphs designed by Epic have a logic where generation inside volumes is ignored if that PCGVolume has a <code class="code" id="-1h26ev_166">PCG_EXCLUDE</code> actor tag</p><p id="-1h26ev_148">To test this out, drop in a PCGVolume on to the scene</p><figure id="-1h26ev_149"><img alt="image|361x260" src="dungeon-architect-docs/PCG-02-6a2b17142331d6e5e8f4319e5ebebc932d239909.jpeg" title="image|361x260" width="361" height="260"></figure><p id="-1h26ev_150">Scale it and place it approximately where the connection is</p><figure id="-1h26ev_151"><img alt="image|690x433" src="dungeon-architect-docs/PCG-02-6f503b798ee58ef601764a80e4c80f45b0e6bcaa.jpeg" title="image|690x433" width="1156" height="727"></figure><p id="-1h26ev_152">In the PCGVolume's detail panel, search for Tag and add <code class="code" id="-1h26ev_167">PCG_EXCLUDE</code> to the actor tag</p><figure id="-1h26ev_153"><img alt="image|385x500" src="dungeon-architect-docs/PCG-02-bced3976ae5d46c373329fc9f7f367c14383d866.png" title="image|385x500" width="567" height="736"></figure><aside class="prompt" data-type="tip" data-title="" id="-1h26ev_154"><p id="-1h26ev_168">NOTE: Do not add this to the component tag. It should be added to the Actor tag as shown in the image above</p></aside><p id="-1h26ev_155">Destroy and rebuild the dungeon</p><figure id="-1h26ev_156"><img alt="image|690x336" src="dungeon-architect-docs/PCG-02-9407cb7d48de1a01e1377b2a80b353a3bd7b1db9.jpeg" title="image|690x336" width="1616" height="788"></figure><p id="-1h26ev_157">Open up your connection asset and use a PCG volume as a door</p><figure id="-1h26ev_158"><img alt="image|442x217" src="dungeon-architect-docs/PCG-02-373e7bf1ed1314b2f58f675b044b5d311cb3da06.png" title="image|442x217" width="442" height="217"></figure><figure id="-1h26ev_159"><img alt="image|690x286" src="dungeon-architect-docs/PCG-02-b8e9daf4f769db2ae1a1f75272af20d697b4949a.png" title="image|690x286" width="972" height="403"></figure><p id="-1h26ev_160">Set the scale to (20, 10, 10)</p><figure id="-1h26ev_161"><img alt="image|690x349" src="dungeon-architect-docs/PCG-02-b639adff74de5331e5a84c204d690298138d3a2d.png" title="image|690x349" width="716" height="363"></figure><p id="-1h26ev_162">Set the <code class="code" id="-1h26ev_169">PCG_EXCLUDE</code> tag in the node template settings</p><figure id="-1h26ev_163"><img alt="image|494x500" src="dungeon-architect-docs/PCG-02-13e10f3b0c5d9768bcfcd22c8e1524131183f23a.png" title="image|494x500" width="740" height="748"></figure><p id="-1h26ev_164">Add more assign assets around the connection opening, like we've done in the video to cover up the gaps</p><figure id="-1h26ev_165"><img alt="image|690x283" src="dungeon-architect-docs/PCG-02-244280a28127040e28eac1c0ad1dda11d462b45f.jpeg" title="image|690x283" width="1920" height="790"></figure></section><div class="last-modified">Last modified: 12 September 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="pcg-framework-overview.html" class="navigation-links__prev">PCG Framework Overview</a><a href="pattern-matcher-overview.html" class="navigation-links__next">Pattern Matcher</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b408/app.js"></script>
    <script src="../js/unreal.js" defer></script>
</body></html>