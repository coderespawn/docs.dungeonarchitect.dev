<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-09-13T00:42:50.9470789"><title>Query Interface | Dungeon Architect for Unreal Engine</title><script type="application/json" id="virtual-toc-data">[{"id":"access-the-query-interface","level":0,"title":"Access the Query Interface","anchor":"#access-the-query-interface"},{"id":"grid-query-interface","level":0,"title":"Grid Query Interface","anchor":"#grid-query-interface"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b408/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Query Interface | Dungeon Architect for Unreal Engine"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Dungeon Architect for Unreal Engine Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/unreal/2.32/advdungeon-query-interface.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Query Interface | Dungeon Architect for Unreal Engine"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/unreal/2.32/advdungeon-query-interface.html#webpage",
    "url": "writerside-documentation/unreal/2.32/advdungeon-query-interface.html",
    "name": "Query Interface | Dungeon Architect for Unreal Engine",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/unreal/#website",
    "url": "writerside-documentation/unreal/",
    "name": "Dungeon Architect for Unreal Engine Help"
}</script><!-- End Schema.org --></head><body data-id="advdungeon-query-interface" data-main-title="Query Interface" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="advdungeon-overview.md|Advanced Dungeons"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Dungeon Architect for Unreal Engine 2.32 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="advdungeon-query-interface" id="advdungeon-query-interface.md">Query Interface</h1><p id="j3we6c_3">The query interface has various helper functions to query the structure of the dungeon. You can use the query interface in your selector / transform logics or marker emitters for more control</p><p id="j3we6c_4">Each builder implements its own query interface.</p><section class="chapter"><h2 id="access-the-query-interface" data-toc="access-the-query-interface">Access the Query Interface</h2><p id="j3we6c_7">You can access the query interface from different places</p><figure id="j3we6c_8"><img alt="Query interface in the selection rule" src="dungeon-architect-docs/H-query_interface_access_selector_logic.png" title="Query interface in the selection rule" width="540" height="407"></figure><figure id="j3we6c_9"><img alt="Query interface in the transformer rule" src="dungeon-architect-docs/H-query_interface_access_transform_logic.png" title="Query interface in the transformer rule" width="504" height="405"></figure><figure id="j3we6c_10"><img alt="Query interface in the marker emitter" src="dungeon-architect-docs/H-query_interface_access_marker_emiter.png" title="Query interface in the marker emitter" width="404" height="322"></figure><figure id="j3we6c_11"><img alt="Query interface from other blueprints" src="dungeon-architect-docs/H-query_interface_access_dungeon_actor.png" title="Query interface from other blueprints" width="920" height="298"></figure></section><section class="chapter"><h2 id="grid-query-interface" data-toc="grid-query-interface">Grid Query Interface</h2><p id="j3we6c_12">The Grid Query Interface lets you query the structure of a grid builder based dungeon</p><section class="chapter"><h3 id="get-cells" data-toc="get-cells">Get Cells</h3><p id="j3we6c_28">Gets a list of all the Cell IDs in the dungeon. A corridor patch or a room is a cell. A cell is always rectangular in shape, with a center and size</p><figure id="j3we6c_29"><img alt="Get Cells" src="dungeon-architect-docs/H-query_grid_GetCells.png" title="Get Cells" width="277" height="134"></figure></section><section class="chapter"><h3 id="get-cells-of-type" data-toc="get-cells-of-type">Get Cells Of Type</h3><p id="j3we6c_30">Similar to Get Cells function but filters the cells based on a type (Room, Coordor)</p><figure id="j3we6c_31"><img alt="Get Cells Of Type" src="dungeon-architect-docs/H-query_grid_GetCellsOfType.png" title="Get Cells Of Type" width="408" height="230"></figure></section><section class="chapter"><h3 id="get-cell-dimension" data-toc="get-cell-dimension">Get Cell Dimension</h3><p id="j3we6c_32">Gets the dimension of a cell. This takes in a cell id and will return the center and the size of the cell</p><figure id="j3we6c_33"><img alt="Get Cell Dimension" src="dungeon-architect-docs/H-query_grid_GetCellDimension.png" title="Get Cell Dimension" width="287" height="185"></figure></section><section class="chapter"><h3 id="get-path-between-cells" data-toc="get-path-between-cells">Get Path Between Cells</h3><p id="j3we6c_34">Gets a valid path between any two cell points. This can be used to create waypoints in your game. There is an example in the quick start guide demonstrating this</p><figure id="j3we6c_35"><img alt="Get Path Between Cells" src="dungeon-architect-docs/H-query_grid_GetPathBetweenCells.png" title="Get Path Between Cells" width="748" height="323"></figure><figure id="j3we6c_36"><img alt="Query path between two cells" src="dungeon-architect-docs/H-query_grid_path.jpg" title="Query path between two cells" width="1024" height="446"></figure></section><section class="chapter"><h3 id="get-furthest-rooms" data-toc="get-furthest-rooms">Get Furthest Rooms</h3><p id="j3we6c_37">Find the furthest rooms in the dungeon. This function returns two cell ID. This can be useful for setting the start / end rooms (or spawn / boss rooms)</p><figure id="j3we6c_38"><img alt="Get Furthest Rooms" src="dungeon-architect-docs/H-query_grid_GetFurthestRooms.png" title="Get Furthest Rooms" width="282" height="168"></figure></section><section class="chapter"><h3 id="get-cell-at-location" data-toc="get-cell-at-location">Get Cell At Location</h3><p id="j3we6c_39">Pass in a world location and get the cell id. This is useful for finding the cell an actor is in. For e.g., if you'd like to check if all NPCs in a room are dead before unlocking a door, you would iterate through all the actors and check if they are in the same room the player is in</p><figure id="j3we6c_40"><img alt="Get Cell At Location" src="dungeon-architect-docs/H-query_grid_GetCellAtLocation.png" title="Get Cell At Location" width="975" height="349"></figure></section><section class="chapter"><h3 id="get-cell-type" data-toc="get-cell-type">Get Cell Type</h3><p id="j3we6c_41">Find the type of the cell (Room, corridor). There is another category called CorridorPadding, which should also be considered a Corridor</p><figure id="j3we6c_42"><img alt="Get Cell Type" src="dungeon-architect-docs/H-query_grid_GetCellType.png" title="Get Cell Type" width="595" height="170"></figure></section><section class="chapter"><h3 id="get-random-cell" data-toc="get-random-cell">Get Random Cell</h3><p id="j3we6c_43">Gets a random cell from the dungeon.</p><p id="j3we6c_44">There also a version that takes in a random stream. You should use the random stream version if you want to guarantee the same dungeon for a particular configuration. The dungeon's random stream is access from within the selector and transform rules</p><figure id="j3we6c_45"><img alt="Get Random Cell" src="dungeon-architect-docs/H-query_grid_GetRandomCell.png" title="Get Random Cell" width="395" height="142"></figure></section><section class="chapter"><h3 id="get-random-cell-of-type" data-toc="get-random-cell-of-type">Get Random Cell Of Type</h3><p id="j3we6c_46">Gets a random cell of a particular type from the dungeon.</p><p id="j3we6c_47">There also a version that takes in a random stream. You should use the random stream version if you want to guarantee the same dungeon for a particular configuration. The dungeon's random stream is access from within the selector and transform rules</p><figure id="j3we6c_48"><img alt="Get Random Cell Of Type" src="dungeon-architect-docs/H-query_grid_GetRandomCellOfType.png" title="Get Random Cell Of Type" width="467" height="149"></figure></section><section class="chapter"><h3 id="contains-stair-between" data-toc="contains-stair-between">Contains Stair Between</h3><p id="j3we6c_49">Check if there is a stair connecting the two input cells</p><figure id="j3we6c_50"><img alt="Contains Stair Between" src="dungeon-architect-docs/H-query_grid_ContainsStairBetween.png" title="Contains Stair Between" width="502" height="259"></figure></section><section class="chapter"><h3 id="contains-door-between" data-toc="contains-door-between">Contains Door Between</h3><p id="j3we6c_51">Check if there is a door connecting the two input cells</p><figure id="j3we6c_52"><img alt="Contains Door Between" src="dungeon-architect-docs/H-query_grid_ContainsDoorBetween.png" title="Contains Door Between" width="485" height="235"></figure></section><section class="chapter"><h3 id="get-stair-between" data-toc="get-stair-between">Get Stair Between</h3><p id="j3we6c_53">Get the stair information between the two input cells</p><figure id="j3we6c_54"><img alt="Get Stair Between" src="dungeon-architect-docs/H-query_grid_GetStairBetween.png" title="Get Stair Between" width="682" height="226"></figure></section><section class="chapter"><h3 id="get-opening-point-between-adjacent-cells" data-toc="get-opening-point-between-adjacent-cells">Get Opening Point Between Adjacent Cells</h3><p id="j3we6c_55">When two cells are adjacent to each other, there might be a constraint on how we can traverse through them. There might be a height variation, or there might be a wall between the cells. In that case, the only valid way to move across is through the stair or a door repectively. This function calculates and returns the correct world position. This position lies in the edge of the two cells. If there is no barrier between the two cells (doors / stairs) a point in the center of the edge is returned</p><figure id="j3we6c_56"><img alt="Get Opening Point Between Adjacent Cells" src="dungeon-architect-docs/H-query_grid_GetOpeningPointBetweenAdjacentCells.png" title="Get Opening Point Between Adjacent Cells" width="459" height="186"></figure><p id="j3we6c_57">This function is used in the path demo to correctly place the spline through the doors and stairs</p><figure id="j3we6c_58"><img alt="Query path between two cells" src="dungeon-architect-docs/H-query_grid_path.jpg" title="Query path between two cells" width="1024" height="446"></figure></section><section class="chapter"><h3 id="get-adjacent-cells-on-edge" data-toc="get-adjacent-cells-on-edge">Get Adjacent Cells On Edge</h3><figure id="j3we6c_59"><img alt="Get Adjacent Cells On Edge" src="dungeon-architect-docs/H-query_grid_GetAdjacentCellsOnEdge.png" title="Get Adjacent Cells On Edge" width="1361" height="398"></figure><p id="j3we6c_60">You can use this function in a selector logic of a marker that is on the edge (e.g. Walls / Fence). This function returns the cells adjacent to the marker. You can use it to decorate your walls / fence selectively. E.g. do no spawn lights on walls of an empty side, or have a different art style when a wall is shared by two rooms</p></section><section class="chapter"><h3 id="is-near-marker" data-toc="is-near-marker">Is Near Marker</h3><figure id="j3we6c_61"><img alt="Is Near Marker" src="dungeon-architect-docs/H-query_grid_IsNearMarker.png" title="Is Near Marker" width="610" height="339"></figure><p id="j3we6c_62">The function returns true if a marker with the specified name is found nearby. You specify the distance to search and the marker name.</p><p id="j3we6c_63">This function is useful if you don't want to place blocking items near doors / stairs.</p><figure id="j3we6c_64"><img alt="Query System" src="dungeon-architect-docs/H-query_grid_near_marker_1.png" title="Query System" width="1091" height="343"></figure><figure id="j3we6c_65"><img alt="Query System" src="dungeon-architect-docs/H-query_grid_near_marker_2.png" title="Query System" width="820" height="746"></figure></section></section><div class="last-modified">Last modified: 12 September 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="advdungeon-marker-emitters.html" class="navigation-links__prev">Marker Emitters</a><a href="advdungeon-landscape-transformer.html" class="navigation-links__next">Landscape Transformer</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b408/app.js"></script>
    <script src="../js/unreal.js" defer></script>
</body></html>