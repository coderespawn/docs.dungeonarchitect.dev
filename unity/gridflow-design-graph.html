<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2024-01-24T20:20:27.33681"><meta name="build-number" content="${buildNumber}">       <title>Design a Grid Flow Graph | Dungeon Architect for Unity</title><script id="virtual-toc-data" type="application/json">[{"id":"setup","level":0,"title":"Setup","anchor":"#setup"},{"id":"create-grid","level":0,"title":"Create Grid","anchor":"#create-grid"},{"id":"create-main-path","level":0,"title":"Create Main Path","anchor":"#create-main-path"},{"id":"create-alternate-path","level":0,"title":"Create Alternate Path","anchor":"#create-alternate-path"},{"id":"create-treasure-room-main","level":0,"title":"Create Treasure Room (Main)","anchor":"#create-treasure-room-main"},{"id":"create-treasure-room-alt","level":0,"title":"Create Treasure Room (Alt)","anchor":"#create-treasure-room-alt"},{"id":"create-key-room","level":0,"title":"Create Key Room","anchor":"#create-key-room"},{"id":"create-key-lock-main","level":0,"title":"Create Key-Lock (Main)","anchor":"#create-key-lock-main"},{"id":"create-key-lock-treasure-main","level":0,"title":"Create Key-Lock (Treasure Main)","anchor":"#create-key-lock-treasure-main"},{"id":"spawn-enemies-main-alt","level":0,"title":"Spawn Enemies (Main, Alt)","anchor":"#spawn-enemies-main-alt"},{"id":"spawn-bonus-treasure-chests","level":0,"title":"Spawn Bonus (Treasure Chests)","anchor":"#spawn-bonus-treasure-chests"},{"id":"spawn-key-guardian","level":0,"title":"Spawn Key Guardian","anchor":"#spawn-key-guardian"},{"id":"spawn-health-pack","level":0,"title":"Spawn Health Pack","anchor":"#spawn-health-pack"},{"id":"finalize-layout-graph","level":0,"title":"Finalize Layout Graph","anchor":"#finalize-layout-graph"},{"id":"initialize-tilemap","level":0,"title":"Initialize Tilemap","anchor":"#initialize-tilemap"},{"id":"add-background-elevation","level":0,"title":"Add Background Elevation","anchor":"#add-background-elevation"},{"id":"add-tree-overlays","level":0,"title":"Add Tree Overlays","anchor":"#add-tree-overlays"},{"id":"finalize-tilemap","level":0,"title":"Finalize Tilemap","anchor":"#finalize-tilemap"},{"id":"build-dungeon","level":0,"title":"Build Dungeon","anchor":"#build-dungeon"},{"id":"optimize-tilemap","level":0,"title":"Optimize Tilemap","anchor":"#optimize-tilemap"}]</script><script id="topic-shortcuts" type="application/json"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Design a Grid Flow Graph | Dungeon Architect for Unity"/><meta property="og:description" content=""/><meta property="og:image" content=""/><meta property="og:site_name" content="Dungeon Architect for Unity Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="/unity/1.20/gridflow-design-graph.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Design a Grid Flow Graph | Dungeon Architect for Unity"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "/unity/1.20/gridflow-design-graph.html#webpage", "url": "/unity/1.20/gridflow-design-graph.html", "name": "Design a Grid Flow Graph | Dungeon Architect for Unity", "description": "", "image": "", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "/unity/#website", "url": "/unity/", "name": "Dungeon Architect for Unity Help" }</script><!-- End Schema.org --></head>      <body data-id="gridflow-design-graph" data-main-title="Design a Grid Flow Graph" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="gridflow-overview.md|Grid Flow Builder"  >   <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Dungeon Architect for Unity 1.20 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="gridflow-design-graph"   id="gridflow-design-graph.md">Design a Grid Flow Graph</h1>  <p id="8e888c50_6677">In the previous section, we used an existing Grid Flow graph. In this section, we'll design one ourselves.</p><section class="chapter"><h2 id="setup" data-toc="setup"   >Setup</h2><p id="8e888c50_6678">Destroy the existing dungeon and clear out the Flow Asset that we assigned earlier</p><figure  id="8e888c50_6679"><img alt="DungeonGridFlow game object properties" src="dungeon-architect-docs/ut-04-17.png" title="DungeonGridFlow game object properties"  width="260" height="288"></figure><p id="8e888c50_6680">Create a new Grid Flow asset from either the Create menu or the Main Menu</p><figure  id="8e888c50_6681"><img alt="Create Menu" src="dungeon-architect-docs/ut-04-18.png" title="Create Menu"  width="908" height="366"></figure><figure  id="8e888c50_6682"><img alt="Main Menu" src="dungeon-architect-docs/ut-04-19.png" title="Main Menu"  width="655" height="185"></figure><p id="8e888c50_6683">Rename to something appropriate and double click the grid flow asset to open it in the editor</p><p id="8e888c50_6684">We won't be needing the scene view for some time. Dock the editor so we have more working area</p><figure  id="8e888c50_6685"><img alt="Ut 04 20" src="dungeon-architect-docs/ut-04-20.png" title="Ut 04 20"  width="600" height="338"></figure><p id="8e888c50_6686">Notice that there is only one node in the Execution graph, the <code class="code" id="8e888c50_6687">Result</code> node. Our final output should be connected to this node</p></section><section class="chapter"><h2 id="create-grid" data-toc="create-grid"   >Create Grid</h2><p id="8e888c50_6688">Right click on an empty area in the Execution Graph and from the context menu select <code class="code" id="8e888c50_6689">Layout Graph &gt; Create Grid</code></p><figure  id="8e888c50_6690"><img alt="Ut 04 menu l create grid" src="dungeon-architect-docs/ut-04-menu-L_CreateGrid.png" title="Ut 04 menu l create grid"  width="490" height="218"></figure><figure  id="8e888c50_6691"><img alt="Ut 04 21" src="dungeon-architect-docs/ut-04-21.png" title="Ut 04 21"  width="488" height="191"></figure><p id="8e888c50_6692">Connect this node to the <code class="code" id="8e888c50_6693">Result</code> node and hit build</p><figure  id="8e888c50_6694"><img alt="Ut 04 22" src="dungeon-architect-docs/ut-04-22.png" title="Ut 04 22"  width="385" height="147"></figure><figure  id="8e888c50_6695"><img alt="Ut 04 11" src="dungeon-architect-docs/ut-04-11.png" title="Ut 04 11"  width="323" height="140"></figure><p id="8e888c50_6696">This node creates an initial grid to work with</p><figure  id="8e888c50_6697"><img alt="Ut 04 23" src="dungeon-architect-docs/ut-04-23.png" title="Ut 04 23"  width="685" height="644"></figure><p id="8e888c50_6698">In this builder, you first design your level in an abstract layout graph like this and then move the final result to a tilemap</p></section><section class="chapter"><h2 id="create-main-path" data-toc="create-main-path"   >Create Main Path</h2><p id="8e888c50_6699">We'll next create a main path within this grid. The main path has a spawn point and goal</p><p id="8e888c50_6700">Create a new node <code class="code" id="8e888c50_6701">Layout Graph &gt; Create Main Path</code></p><figure  id="8e888c50_6702"><img alt="Ut 04 menu l create main path" src="dungeon-architect-docs/ut-04-menu-L_CreateMainPath.png" title="Ut 04 menu l create main path"  width="490" height="218"></figure><p id="8e888c50_6703">Unlink the <code class="code" id="8e888c50_6704">Create Grid</code> node from the <code class="code" id="8e888c50_6705">Result</code> node (do this by right clicking on the node's orange border)</p><figure  id="8e888c50_6706"><img alt="Ut 04 24" src="dungeon-architect-docs/ut-04-24.png" title="Ut 04 24"  width="469" height="205"></figure><p id="8e888c50_6707">Link the nodes up like below and click Build</p><figure  id="8e888c50_6708"><img alt="Ut 04 25" src="dungeon-architect-docs/ut-04-25.png" title="Ut 04 25"  width="444" height="195"></figure><p id="8e888c50_6709">This node creates a main path in the grid. Keep clicking the build button for different result</p><figure data-theme="light" id="8e888c50_6710" width="586" ><img alt="Ut 04 26" class="js-gif article__bordered-element" data-gif-src="dungeon-architect-docs/ut-04-26.gif" width="586"  style="width: 586px;"></figure><aside class="prompt" data-type="tip" data-title="" id="8e888c50_6711"><p id="8e888c50_6712">If you do not see random results when you click build, make sure randomize is enabled. Enable this by clicking on an empty area in the Execution Graph to show the properties. In the inspector, select <code class="code" id="8e888c50_6713">Randomize Seed</code></p></aside><p id="8e888c50_6714">Select the <code class="code" id="8e888c50_6715">Create Main Path</code> node and inspect the properties</p><figure  id="8e888c50_6716"><img alt="Ut 04 27" src="dungeon-architect-docs/ut-04-27.png" title="Ut 04 27"  width="450" height="451"></figure><p id="8e888c50_6717">We'll leave everything to default for now</p><p id="8e888c50_6718">Notice the <code class="code" id="8e888c50_6719">Path Name</code> parameter is set to <code class="code" id="8e888c50_6720">main</code> This is the name of the path and we will be referencing this path in the future nodes with this name</p><p id="8e888c50_6721">You can adjust the size of the path. <code class="code" id="8e888c50_6722">Start Marker Name</code> and <code class="code" id="8e888c50_6723">Goal Marker Name</code> lets you specify a name for the markers. You can then create these markers in the theme file and add any object you like. In the <code class="code" id="8e888c50_6724">Prehistoric</code> theme, there's a marker already created with these names and a player controller is placed under <code class="code" id="8e888c50_6725">SpawnPoint</code> marker and a level goal handler prefab is placed under <code class="code" id="8e888c50_6726">LevelGoal</code> marker</p><figure  id="8e888c50_6727"><img alt="Ut 04 28" src="dungeon-architect-docs/ut-04-28.jpg" title="Ut 04 28"  width="415" height="351"></figure></section><section class="chapter"><h2 id="create-alternate-path" data-toc="create-alternate-path"   >Create Alternate Path</h2><p id="8e888c50_6728">We'll next create an alternate path pathing off the main path so the player has another way of reaching the goal</p><p id="8e888c50_6729">Create a new node <code class="code" id="8e888c50_6730">Layout Graph &gt; Create Path</code></p><figure  id="8e888c50_6731"><img alt="Ut 04 menu l create path" src="dungeon-architect-docs/ut-04-menu-L_CreatePath.png" title="Ut 04 menu l create path"  width="490" height="218"></figure><p id="8e888c50_6732">Connect the nodes together like below</p><figure  id="8e888c50_6733"><img alt="Ut 04 29" src="dungeon-architect-docs/ut-04-29.png" title="Ut 04 29"  width="631" height="214"></figure><p id="8e888c50_6734">Leave all the properties as default and click build</p><figure  id="8e888c50_6735"><img alt="Ut 04 30" src="dungeon-architect-docs/ut-04-30.png" title="Ut 04 30"  width="573" height="482"></figure><p id="8e888c50_6736">Select the <code class="code" id="8e888c50_6737">Create Path</code> node and inspect the properties</p><figure  id="8e888c50_6738"><img alt="Ut 04 31" src="dungeon-architect-docs/ut-04-31.png" title="Ut 04 31"  width="369" height="252"></figure><p id="8e888c50_6739">Change the <code class="code" id="8e888c50_6740">Path Name</code> to <code class="code" id="8e888c50_6741">alt</code>. We will be referencing this path as <code class="code" id="8e888c50_6742">alt</code> in the future</p><figure  id="8e888c50_6743"><img alt="Ut 04 32" src="dungeon-architect-docs/ut-04-32.png" title="Ut 04 32"  width="376" height="257"></figure><p id="8e888c50_6744">You can specify the paths from which this path should start and end. The <code class="code" id="8e888c50_6745">Start From Path</code> parameter is set to <code class="code" id="8e888c50_6746">main</code>, referencing the main path we created in the previous section</p><p id="8e888c50_6747">The <code class="code" id="8e888c50_6748">End On Path</code> is left empty, so the end of this path doesn't connect back to anything. We'd like this path to connect back to the main path.</p><p id="8e888c50_6749">Set the <code class="code" id="8e888c50_6750">End On Path</code> parameter to <code class="code" id="8e888c50_6751">main</code></p><figure  id="8e888c50_6752"><img alt="Ut 04 33" src="dungeon-architect-docs/ut-04-33.png" title="Ut 04 33"  width="370" height="247"></figure><div class="table-wrapper"><table class="wide" id="8e888c50_6753"><thead><tr class="ijRowHead" id="8e888c50_6754"><th id="8e888c50_6755"><p>Parameter</p></th><th id="8e888c50_6756"><p>Value</p></th></tr></thead><tbody><tr id="8e888c50_6757"><td id="8e888c50_6758"><p><span class="control" id="8e888c50_6759">Min Path Size</span></p></td><td id="8e888c50_6760"><p>3</p></td></tr><tr id="8e888c50_6761"><td id="8e888c50_6762"><p><span class="control" id="8e888c50_6763">Max Path Size</span></p></td><td id="8e888c50_6764"><p>3</p></td></tr><tr id="8e888c50_6765"><td id="8e888c50_6766"><p><span class="control" id="8e888c50_6767">Path Name</span></p></td><td id="8e888c50_6768"><p>alt</p></td></tr><tr id="8e888c50_6769"><td id="8e888c50_6770"><p><span class="control" id="8e888c50_6771">Node Color</span></p></td><td id="8e888c50_6772"><p>orange</p></td></tr><tr id="8e888c50_6773"><td id="8e888c50_6774"><p><span class="control" id="8e888c50_6775">Start From Path</span></p></td><td id="8e888c50_6776"><p>main</p></td></tr><tr id="8e888c50_6777"><td id="8e888c50_6778"><p><span class="control" id="8e888c50_6779">End On Path</span></p></td><td id="8e888c50_6780"><p>main</p></td></tr></tbody></table></div><p id="8e888c50_6781">This will make the alternate path (orange) connect back to the main path (green)</p><figure  id="8e888c50_6782"><img alt="Ut 04 34" src="dungeon-architect-docs/ut-04-34.png" title="Ut 04 34"  width="598" height="491"></figure><p id="8e888c50_6783">Keep clicking build for different results</p><figure data-theme="light" id="8e888c50_6784" width="400" ><img alt="Ut 04 35" class="js-gif article__bordered-element" data-gif-src="dungeon-architect-docs/ut-04-35.gif" width="400"  style="width: 400px;"></figure></section><section class="chapter"><h2 id="create-treasure-room-main" data-toc="create-treasure-room-main"   >Create Treasure Room (Main)</h2><p id="8e888c50_6785">We'll add a treasure room connected to the main path</p><p id="8e888c50_6786">Add a new node <code class="code" id="8e888c50_6787">Layout Graph &gt; Create Path</code> and set it up as follows:</p><figure  id="8e888c50_6788"><img alt="Ut 04 37" src="dungeon-architect-docs/ut-04-37.png" title="Ut 04 37"  width="757" height="179"></figure><figure  id="8e888c50_6789"><img alt="Ut 04 36" src="dungeon-architect-docs/ut-04-36.png" title="Ut 04 36"  width="364" height="245"></figure><div class="table-wrapper"><table class="wide" id="8e888c50_6790"><thead><tr class="ijRowHead" id="8e888c50_6791"><th id="8e888c50_6792"><p>Parameter</p></th><th id="8e888c50_6793"><p>Value</p></th></tr></thead><tbody><tr id="8e888c50_6794"><td id="8e888c50_6795"><p><span class="control" id="8e888c50_6796">Min Path Size</span></p></td><td id="8e888c50_6797"><p>1</p></td></tr><tr id="8e888c50_6798"><td id="8e888c50_6799"><p><span class="control" id="8e888c50_6800">Max Path Size</span></p></td><td id="8e888c50_6801"><p>3</p></td></tr><tr id="8e888c50_6802"><td id="8e888c50_6803"><p><span class="control" id="8e888c50_6804">Path Name</span></p></td><td id="8e888c50_6805"><p>treasure_main</p></td></tr><tr id="8e888c50_6806"><td id="8e888c50_6807"><p><span class="control" id="8e888c50_6808">Node Color</span></p></td><td id="8e888c50_6809"><p>yellow</p></td></tr><tr id="8e888c50_6810"><td id="8e888c50_6811"><p><span class="control" id="8e888c50_6812">Start From Path</span></p></td><td id="8e888c50_6813"><p>main</p></td></tr><tr id="8e888c50_6814"><td id="8e888c50_6815"><p><span class="control" id="8e888c50_6816">End On Path</span></p></td><td id="8e888c50_6817"><p>main</p></td></tr></tbody></table></div><figure  id="8e888c50_6818"><img alt="Ut 04 38" src="dungeon-architect-docs/ut-04-38.png" title="Ut 04 38"  width="703" height="575"></figure></section><section class="chapter"><h2 id="create-treasure-room-alt" data-toc="create-treasure-room-alt"   >Create Treasure Room (Alt)</h2><p id="8e888c50_6819">We'll add another treasure room connected to the <code class="code" id="8e888c50_6820">alt</code> path but keep the <code class="code" id="8e888c50_6821">End On Path</code> parameter empty so it doesn't connect back to anything:</p><p id="8e888c50_6822">Add a new node <code class="code" id="8e888c50_6823">Layout Graph &gt; Create Path</code> and set it up as follows:</p><figure  id="8e888c50_6824"><img alt="Ut 04 39" src="dungeon-architect-docs/ut-04-39.png" title="Ut 04 39"  width="844" height="183"></figure><figure  id="8e888c50_6825"><img alt="Ut 04 40" src="dungeon-architect-docs/ut-04-40.png" title="Ut 04 40"  width="368" height="241"></figure><div class="table-wrapper"><table class="wide" id="8e888c50_6826"><thead><tr class="ijRowHead" id="8e888c50_6827"><th id="8e888c50_6828"><p>Parameter</p></th><th id="8e888c50_6829"><p>Value</p></th></tr></thead><tbody><tr id="8e888c50_6830"><td id="8e888c50_6831"><p><span class="control" id="8e888c50_6832">Min Path Size</span></p></td><td id="8e888c50_6833"><p>1</p></td></tr><tr id="8e888c50_6834"><td id="8e888c50_6835"><p><span class="control" id="8e888c50_6836">Max Path Size</span></p></td><td id="8e888c50_6837"><p>1</p></td></tr><tr id="8e888c50_6838"><td id="8e888c50_6839"><p><span class="control" id="8e888c50_6840">Path Name</span></p></td><td id="8e888c50_6841"><p>treasure_alt</p></td></tr><tr id="8e888c50_6842"><td id="8e888c50_6843"><p><span class="control" id="8e888c50_6844">Node Color</span></p></td><td id="8e888c50_6845"><p>yellow</p></td></tr><tr id="8e888c50_6846"><td id="8e888c50_6847"><p><span class="control" id="8e888c50_6848">Start From Path</span></p></td><td id="8e888c50_6849"><p>alt</p></td></tr><tr id="8e888c50_6850"><td id="8e888c50_6851"><p><span class="control" id="8e888c50_6852">End On Path</span></p></td><td id="8e888c50_6853"></td></tr></tbody></table></div><figure  id="8e888c50_6854"><img alt="Ut 04 41" src="dungeon-architect-docs/ut-04-41.png" title="Ut 04 41"  width="586" height="494"></figure></section><section class="chapter"><h2 id="create-key-room" data-toc="create-key-room"   >Create Key Room</h2><p id="8e888c50_6855">We'll create a room connected to the main path which will act as the key room. We'll later configure this room to have a key that opens up a lock in the main path. It will also have a NPC (key guardian) guarding the key</p><p id="8e888c50_6856">Add a new node <code class="code" id="8e888c50_6857">Layout Graph &gt; Create Path</code> and set it up as follows:</p><figure  id="8e888c50_6858"><img alt="Ut 04 42" src="dungeon-architect-docs/ut-04-42.png" title="Ut 04 42"  width="966" height="186"></figure><figure  id="8e888c50_6859"><img alt="Ut 04 43" src="dungeon-architect-docs/ut-04-43.png" title="Ut 04 43"  width="361" height="266"></figure><div class="table-wrapper"><table class="wide" id="8e888c50_6860"><thead><tr class="ijRowHead" id="8e888c50_6861"><th id="8e888c50_6862"><p>Parameter</p></th><th id="8e888c50_6863"><p>Value</p></th></tr></thead><tbody><tr id="8e888c50_6864"><td id="8e888c50_6865"><p><span class="control" id="8e888c50_6866">Min Path Size</span></p></td><td id="8e888c50_6867"><p>1</p></td></tr><tr id="8e888c50_6868"><td id="8e888c50_6869"><p><span class="control" id="8e888c50_6870">Max Path Size</span></p></td><td id="8e888c50_6871"><p>1</p></td></tr><tr id="8e888c50_6872"><td id="8e888c50_6873"><p><span class="control" id="8e888c50_6874">Path Name</span></p></td><td id="8e888c50_6875"><p>key_room</p></td></tr><tr id="8e888c50_6876"><td id="8e888c50_6877"><p><span class="control" id="8e888c50_6878">Node Color</span></p></td><td id="8e888c50_6879"><p>cyan</p></td></tr><tr id="8e888c50_6880"><td id="8e888c50_6881"><p><span class="control" id="8e888c50_6882">Start From Path</span></p></td><td id="8e888c50_6883"><p>main</p></td></tr><tr id="8e888c50_6884"><td id="8e888c50_6885"><p><span class="control" id="8e888c50_6886">End On Path</span></p></td><td id="8e888c50_6887"></td></tr></tbody></table></div><figure  id="8e888c50_6888"><img alt="Ut 04 44" src="dungeon-architect-docs/ut-04-44.png" title="Ut 04 44"  width="596" height="489"></figure><aside class="prompt" data-type="tip" data-title="" id="8e888c50_6889"><p id="8e888c50_6890">We've named this path <code class="code" id="8e888c50_6891">key_room</code>. It will be referenced later on when creating the key locks</p></aside></section><section class="chapter"><h2 id="create-key-lock-main" data-toc="create-key-lock-main"   >Create Key-Lock (Main)</h2><p id="8e888c50_6892">We'll next create a key-lock system on the main path. Our key will go on the Key Room we created earlier (<code class="code" id="8e888c50_6893">key_room</code> path) and the lock will be somewhere in the main branch (<code class="code" id="8e888c50_6894">main</code> path)</p><p id="8e888c50_6895">Add a new node <code class="code" id="8e888c50_6896">Layout Graph &gt; Create Key Lock</code> and set it up as follows:</p><figure  id="8e888c50_6897"><img alt="Ut 04 menu l create key lock" src="dungeon-architect-docs/ut-04-menu-L_CreateKeyLock.png" title="Ut 04 menu l create key lock"  width="490" height="218"></figure><figure  id="8e888c50_6898"><img alt="Ut 04 45" src="dungeon-architect-docs/ut-04-45.png" title="Ut 04 45"  width="954" height="199"></figure><figure  id="8e888c50_6899"><img alt="Ut 04 46" src="dungeon-architect-docs/ut-04-46.png" title="Ut 04 46"  width="368" height="240"></figure><div class="table-wrapper"><table class="wide" id="8e888c50_6900"><thead><tr class="ijRowHead" id="8e888c50_6901"><th id="8e888c50_6902"><p>Paramter</p></th><th id="8e888c50_6903"><p>Value</p></th></tr></thead><tbody><tr id="8e888c50_6904"><td id="8e888c50_6905"><p><span class="control" id="8e888c50_6906">Key Branch</span></p></td><td id="8e888c50_6907"><p>key_room</p></td></tr><tr id="8e888c50_6908"><td id="8e888c50_6909"><p><span class="control" id="8e888c50_6910">Lock Branch</span></p></td><td id="8e888c50_6911"><p>main</p></td></tr><tr id="8e888c50_6912"><td id="8e888c50_6913"><p><span class="control" id="8e888c50_6914">Key Marker Name</span></p></td><td id="8e888c50_6915"><p>KeyMain</p></td></tr><tr id="8e888c50_6916"><td id="8e888c50_6917"><p><span class="control" id="8e888c50_6918">Lock Marker Name</span></p></td><td id="8e888c50_6919"><p>LockMain</p></td></tr></tbody></table></div><figure  id="8e888c50_6920"><img alt="Ut 04 47" src="dungeon-architect-docs/ut-04-47.png" title="Ut 04 47"  width="584" height="487"></figure><p id="8e888c50_6921">Specify the <code class="code" id="8e888c50_6922">Key Branch</code> as <code class="code" id="8e888c50_6923">key_room</code> and <code class="code" id="8e888c50_6924">Lock Branch</code> as <code class="code" id="8e888c50_6925">main</code></p><p id="8e888c50_6926">Set marker name for the key as <code class="code" id="8e888c50_6927">KeyMain</code> and lock as <code class="code" id="8e888c50_6928">LockMain</code>. Then in the theme file, you'd create marker nodes with these names and add your key and locked gate prefabs.</p><p id="8e888c50_6929">The prehistoric theme already has these setup</p><figure  id="8e888c50_6930"><img alt="Ut 04 48" src="dungeon-architect-docs/ut-04-48.png" title="Ut 04 48"  width="339" height="254"></figure></section><section class="chapter"><h2 id="create-key-lock-treasure-main" data-toc="create-key-lock-treasure-main"   >Create Key-Lock (Treasure Main)</h2><p id="8e888c50_6931">We need a key-lock to guard the treasure room in the main branch</p><p id="8e888c50_6932">Add a new node <code class="code" id="8e888c50_6933">Layout Graph &gt; Create Key Lock</code> and set it up as follows:</p><figure  id="8e888c50_6934"><img alt="Ut 04 49" src="dungeon-architect-docs/ut-04-49.png" title="Ut 04 49"  width="946" height="207"></figure><figure  id="8e888c50_6935"><img alt="Ut 04 50" src="dungeon-architect-docs/ut-04-50.png" title="Ut 04 50"  width="359" height="246"></figure><div class="table-wrapper"><table class="wide" id="8e888c50_6936"><thead><tr class="ijRowHead" id="8e888c50_6937"><th id="8e888c50_6938"><p>Parameter</p></th><th id="8e888c50_6939"><p>Value</p></th></tr></thead><tbody><tr id="8e888c50_6940"><td id="8e888c50_6941"><p><span class="control" id="8e888c50_6942">Key Branch</span></p></td><td id="8e888c50_6943"><p>main</p></td></tr><tr id="8e888c50_6944"><td id="8e888c50_6945"><p><span class="control" id="8e888c50_6946">Lock Branch</span></p></td><td id="8e888c50_6947"><p>treasure_main</p></td></tr><tr id="8e888c50_6948"><td id="8e888c50_6949"><p><span class="control" id="8e888c50_6950">Key Marker Name</span></p></td><td id="8e888c50_6951"><p>KeyTreasure</p></td></tr><tr id="8e888c50_6952"><td id="8e888c50_6953"><p><span class="control" id="8e888c50_6954">Lock Marker Name</span></p></td><td id="8e888c50_6955"><p>LockTreasure</p></td></tr></tbody></table></div><figure  id="8e888c50_6956"><img alt="Ut 04 51" src="dungeon-architect-docs/ut-04-51.png" title="Ut 04 51"  width="574" height="484"></figure><p id="8e888c50_6957">Set marker name for the key as <code class="code" id="8e888c50_6958">KeyTreasure</code> and lock as <code class="code" id="8e888c50_6959">LockTreasure</code>. Then in the theme file, you'd create marker nodes with these names and add your key and locked gate prefabs.</p><p id="8e888c50_6960">The prehistoric theme already has these setup</p><figure  id="8e888c50_6961"><img alt="Ut 04 52" src="dungeon-architect-docs/ut-04-52.png" title="Ut 04 52"  width="309" height="255"></figure></section><section class="chapter"><h2 id="spawn-enemies-main-alt" data-toc="spawn-enemies-main-alt"   >Spawn Enemies (Main, Alt)</h2><p id="8e888c50_6962">We'll use the <code class="code" id="8e888c50_6963">Spawn Items</code> node to spawn enemies on the <code class="code" id="8e888c50_6964">main</code> and <code class="code" id="8e888c50_6965">alt</code> paths</p><p id="8e888c50_6966">Create a new node <code class="code" id="8e888c50_6967">Layout Graph &gt; Spawn Items</code> and set it up as follows:</p><figure  id="8e888c50_6968"><img alt="Ut 04 menu l spawn items" src="dungeon-architect-docs/ut-04-menu-L_SpawnItems.png" title="Ut 04 menu l spawn items"  width="490" height="218"></figure><figure  id="8e888c50_6969"><img alt="Ut 04 53" src="dungeon-architect-docs/ut-04-53.png" title="Ut 04 53"  width="930" height="238"></figure><figure  id="8e888c50_6970"><img alt="Ut 04 54" src="dungeon-architect-docs/ut-04-54.png" title="Ut 04 54"  width="368" height="426"></figure><div class="table-wrapper"><table class="wide" id="8e888c50_6971"><thead><tr class="ijRowHead" id="8e888c50_6972"><th id="8e888c50_6973"><p>Parameter</p></th><th id="8e888c50_6974"><p>Value</p></th></tr></thead><tbody><tr id="8e888c50_6975"><td id="8e888c50_6976"><p><span class="control" id="8e888c50_6977">Paths</span></p></td><td id="8e888c50_6978"><p>main, alt</p></td></tr><tr id="8e888c50_6979"><td id="8e888c50_6980"><p><span class="control" id="8e888c50_6981">Item Type</span></p></td><td id="8e888c50_6982"><p>Enemy</p></td></tr><tr id="8e888c50_6983"><td id="8e888c50_6984"><p><span class="control" id="8e888c50_6985">Marker Name</span></p></td><td id="8e888c50_6986"><p>Grunt</p></td></tr><tr id="8e888c50_6987"><td id="8e888c50_6988"><p><span class="control" id="8e888c50_6989">Min Count</span></p></td><td id="8e888c50_6990"><p>1</p></td></tr><tr id="8e888c50_6991"><td id="8e888c50_6992"><p><span class="control" id="8e888c50_6993">Max Count</span></p></td><td id="8e888c50_6994"><p>5</p></td></tr></tbody></table></div><figure  id="8e888c50_6995"><img alt="Ut 04 55" src="dungeon-architect-docs/ut-04-55.png" title="Ut 04 55"  width="578" height="477"></figure><p id="8e888c50_6996">This will spawn enemies in the nodes, gradually increasing the number of enemies based on the difficulty. The difficulty increases as we get closer to the goal. You can control this from the <code class="code" id="8e888c50_6997">Spawn Method</code> properties. Leave it to default for now</p><p id="8e888c50_6998">We've specified the marker name as <code class="code" id="8e888c50_6999">Grunt</code> and an appropriate marker node should be created in the theme file so we can spawn prefabs under it. The pre-historic theme already has this marker</p><figure  id="8e888c50_7000"><img alt="Ut 04 56" src="dungeon-architect-docs/ut-04-56.png" title="Ut 04 56"  width="192" height="264"></figure><p id="8e888c50_7001">You can control the placement of items (in the tilemap) from the <code class="code" id="8e888c50_7002">Placement Method</code> property section. Leave it to default for now</p></section><section class="chapter"><h2 id="spawn-bonus-treasure-chests" data-toc="spawn-bonus-treasure-chests"   >Spawn Bonus (Treasure Chests)</h2><p id="8e888c50_7003">Spawn treasure chests in your bonus rooms using the <code class="code" id="8e888c50_7004">Spawn Items</code> node</p><p id="8e888c50_7005">Create a new node <code class="code" id="8e888c50_7006">Layout Graph &gt; Spawn Items</code> and set it up as follows:</p><figure  id="8e888c50_7007"><img alt="Ut 04 57" src="dungeon-architect-docs/ut-04-57.png" title="Ut 04 57"  width="920" height="221"></figure><figure  id="8e888c50_7008"><img alt="Ut 04 58" src="dungeon-architect-docs/ut-04-58.png" title="Ut 04 58"  width="365" height="421"></figure><div class="table-wrapper"><table class="wide" id="8e888c50_7009"><thead><tr class="ijRowHead" id="8e888c50_7010"><th id="8e888c50_7011"><p>Parameter</p></th><th id="8e888c50_7012"><p>Value</p></th></tr></thead><tbody><tr id="8e888c50_7013"><td id="8e888c50_7014"><p><span class="control" id="8e888c50_7015">Paths</span></p></td><td id="8e888c50_7016"><p>treasure_main, treasure_alt</p></td></tr><tr id="8e888c50_7017"><td id="8e888c50_7018"><p><span class="control" id="8e888c50_7019">Item Type</span></p></td><td id="8e888c50_7020"><p>Bonus</p></td></tr><tr id="8e888c50_7021"><td id="8e888c50_7022"><p><span class="control" id="8e888c50_7023">Marker Name</span></p></td><td id="8e888c50_7024"><p>Treasure</p></td></tr><tr id="8e888c50_7025"><td id="8e888c50_7026"><p><span class="control" id="8e888c50_7027">Min Count</span></p></td><td id="8e888c50_7028"><p>1</p></td></tr><tr id="8e888c50_7029"><td id="8e888c50_7030"><p><span class="control" id="8e888c50_7031">Max Count</span></p></td><td id="8e888c50_7032"><p>1</p></td></tr><tr id="8e888c50_7033"><td id="8e888c50_7034"><p><span class="control" id="8e888c50_7035">Min Spawn Difficulty</span></p></td><td id="8e888c50_7036"><p>1</p></td></tr></tbody></table></div><figure  id="8e888c50_7037"><img alt="Ut 04 59" src="dungeon-architect-docs/ut-04-59.png" title="Ut 04 59"  width="584" height="472"></figure><p id="8e888c50_7038">We've specified the marker name as <code class="code" id="8e888c50_7039">Treasure</code> and an appropriate marker node should be created in the theme file so we can spawn prefabs the treasure chest under it. The pre-historic theme already has this marker</p><figure  id="8e888c50_7040"><img alt="Ut 04 60" src="dungeon-architect-docs/ut-04-60.png" title="Ut 04 60"  width="175" height="243"></figure><p id="8e888c50_7041">The <code class="code" id="8e888c50_7042">Min Spawn Difficulty</code> is set to <code class="code" id="8e888c50_7043">1</code>. The first node in the branch will have a difficulty of <code class="code" id="8e888c50_7044">0</code> and the last node <code class="code" id="8e888c50_7045">1</code>. Sometimes, the yellow branch may be 3 nodes long. Since we want the chest to occur only on the last node, we've set this value to <code class="code" id="8e888c50_7046">1</code></p></section><section class="chapter"><h2 id="spawn-key-guardian" data-toc="spawn-key-guardian"   >Spawn Key Guardian</h2><p id="8e888c50_7047">We'll add an NPC in the Key room guarding the key</p><p id="8e888c50_7048">Create a new node <code class="code" id="8e888c50_7049">Layout Graph &gt; Spawn Items</code> and set it up as follows:</p><figure  id="8e888c50_7050"><img alt="Ut 04 61" src="dungeon-architect-docs/ut-04-61.png" title="Ut 04 61"  width="934" height="237"></figure><figure  id="8e888c50_7051"><img alt="Ut 04 62" src="dungeon-architect-docs/ut-04-62.png" title="Ut 04 62"  width="323" height="408"></figure><div class="table-wrapper"><table class="wide" id="8e888c50_7052"><thead><tr class="ijRowHead" id="8e888c50_7053"><th id="8e888c50_7054"><p>Parameter</p></th><th id="8e888c50_7055"><p>Value</p></th></tr></thead><tbody><tr id="8e888c50_7056"><td id="8e888c50_7057"><p><span class="control" id="8e888c50_7058">Paths</span></p></td><td id="8e888c50_7059"><p>key_room</p></td></tr><tr id="8e888c50_7060"><td id="8e888c50_7061"><p><span class="control" id="8e888c50_7062">Item Type</span></p></td><td id="8e888c50_7063"><p>Enemy</p></td></tr><tr id="8e888c50_7064"><td id="8e888c50_7065"><p><span class="control" id="8e888c50_7066">Marker Name</span></p></td><td id="8e888c50_7067"><p>KeyGuardian</p></td></tr><tr id="8e888c50_7068"><td id="8e888c50_7069"><p><span class="control" id="8e888c50_7070">Min Count</span></p></td><td id="8e888c50_7071"><p>1</p></td></tr><tr id="8e888c50_7072"><td id="8e888c50_7073"><p><span class="control" id="8e888c50_7074">Max Count</span></p></td><td id="8e888c50_7075"><p>1</p></td></tr></tbody></table></div><figure  id="8e888c50_7076"><img alt="Ut 04 63" src="dungeon-architect-docs/ut-04-63.png" title="Ut 04 63"  width="708" height="570"></figure><p id="8e888c50_7077">You'll need to create a marker named <code class="code" id="8e888c50_7078">KeyGuardian</code> in the theme file and place your NPC prefab under it. This marker doesn't exist in the <code class="code" id="8e888c50_7079">Prehistoric</code> theme and you'll need to create it yourself if you want to visualize it</p></section><section class="chapter"><h2 id="spawn-health-pack" data-toc="spawn-health-pack"   >Spawn Health Pack</h2><p id="8e888c50_7080">We'll use the <code class="code" id="8e888c50_7081">Spawn Items</code> node to spawn a few health pickups along the <code class="code" id="8e888c50_7082">main</code> and <code class="code" id="8e888c50_7083">alt</code> paths</p><p id="8e888c50_7084">This section also shows you how to use the <code class="code" id="8e888c50_7085">Custom</code> Item Type</p><p id="8e888c50_7086">Create a new node <code class="code" id="8e888c50_7087">Layout Graph &gt; Spawn Items</code> and set it up as follows:</p><figure  id="8e888c50_7088"><img alt="Ut 04 64" src="dungeon-architect-docs/ut-04-64.png" title="Ut 04 64"  width="1022" height="216"></figure><figure  id="8e888c50_7089"><img alt="Ut 04 65" src="dungeon-architect-docs/ut-04-65.png" title="Ut 04 65"  width="386" height="507"></figure><div class="table-wrapper"><table class="wide" id="8e888c50_7090"><thead><tr class="ijRowHead" id="8e888c50_7091"><th id="8e888c50_7092"><p>Parameter</p></th><th id="8e888c50_7093"><p>Value</p></th></tr></thead><tbody><tr id="8e888c50_7094"><td id="8e888c50_7095"><p><span class="control" id="8e888c50_7096">Paths</span></p></td><td id="8e888c50_7097"><p>main, alt</p></td></tr><tr id="8e888c50_7098"><td id="8e888c50_7099"><p><span class="control" id="8e888c50_7100">Item Type</span></p></td><td id="8e888c50_7101"><p>Custom</p></td></tr><tr id="8e888c50_7102"><td id="8e888c50_7103"><p><span class="control" id="8e888c50_7104">Marker Name</span></p></td><td id="8e888c50_7105"><p>HealthPickup</p></td></tr><tr id="8e888c50_7106"><td id="8e888c50_7107"><p><span class="control" id="8e888c50_7108">Min Count</span></p></td><td id="8e888c50_7109"><p>0</p></td></tr><tr id="8e888c50_7110"><td id="8e888c50_7111"><p><span class="control" id="8e888c50_7112">Max Count</span></p></td><td id="8e888c50_7113"><p>1</p></td></tr><tr id="8e888c50_7114"><td id="8e888c50_7115"><p><span class="control" id="8e888c50_7116">Spawn Probability</span></p></td><td id="8e888c50_7117"><p>0.5</p></td></tr><tr id="8e888c50_7118"><td id="8e888c50_7119"><p>Custom Item Info &gt; <span class="control" id="8e888c50_7120">Item Type</span></p></td><td id="8e888c50_7121"><p>health_pickup</p></td></tr><tr id="8e888c50_7122"><td id="8e888c50_7123"><p>Custom Item Info &gt; <span class="control" id="8e888c50_7124">Text</span></p></td><td id="8e888c50_7125"><p>Health</p></td></tr><tr id="8e888c50_7126"><td id="8e888c50_7127"><p>Custom Item Info &gt; <span class="control" id="8e888c50_7128">Text Color</span></p></td><td id="8e888c50_7129"><p>[Red]</p></td></tr><tr id="8e888c50_7130"><td id="8e888c50_7131"><p>Custom Item Info &gt; <span class="control" id="8e888c50_7132">Background Color</span></p></td><td id="8e888c50_7133"><p>[White]</p></td></tr></tbody></table></div><figure  id="8e888c50_7134"><img alt="Ut 04 66" src="dungeon-architect-docs/ut-04-66.png" title="Ut 04 66"  width="692" height="573"></figure><aside class="prompt" data-type="tip" data-title="" id="8e888c50_7135"><p id="8e888c50_7136">You'll need to create a marker named <code class="code" id="8e888c50_7137">HealthPickup</code> in your theme file and add your health pack prefab</p></aside></section><section class="chapter"><h2 id="finalize-layout-graph" data-toc="finalize-layout-graph"   >Finalize Layout Graph</h2><p id="8e888c50_7138">After we are done designing the layout graph, we'll need to finalize it with the <code class="code" id="8e888c50_7139">Finalize Graph</code> node. This node does a few things:</p><ul class="list _ul" id="8e888c50_7140"><li class="list__item" id="8e888c50_7141"><p>Move the locks from the nodes on to the links</p></li><li class="list__item" id="8e888c50_7142"><p>Create one way doors (so we don't go around locked doors)</p></li><li class="list__item" id="8e888c50_7143"><p>Assign room types (Room, Corridor, Cave)</p></li></ul><p id="8e888c50_7144">Create a new node <code class="code" id="8e888c50_7145">Layout Graph &gt; Finalize Graph</code> and set it up as follows:</p><figure  id="8e888c50_7146"><img alt="Ut 04 menu l finalize" src="dungeon-architect-docs/ut-04-menu-L_Finalize.png" title="Ut 04 menu l finalize"  width="490" height="218"></figure><figure  id="8e888c50_7147"><img alt="Ut 04 67" src="dungeon-architect-docs/ut-04-67.png" title="Ut 04 67"  width="472" height="218"></figure><p id="8e888c50_7148">Leave all the properties to default</p><figure  id="8e888c50_7149"><img alt="Ut 04 68" src="dungeon-architect-docs/ut-04-68.png" title="Ut 04 68"  width="703" height="577"></figure><figure data-theme="light" id="8e888c50_7150" width="500" ><img alt="Ut 04 69" class="js-gif article__bordered-element" data-gif-src="dungeon-architect-docs/ut-04-69.gif" width="500"  style="width: 500px;"></figure><p id="8e888c50_7151">We are now ready to create a tilemap from this</p></section><section class="chapter"><h2 id="initialize-tilemap" data-toc="initialize-tilemap"   >Initialize Tilemap</h2><p id="8e888c50_7152">Create a new node <code class="code" id="8e888c50_7153">Tilemap &gt; Initialize Tilemap</code> and set it up as follows:</p><figure  id="8e888c50_7154"><img alt="Ut 04 menu t initialize" src="dungeon-architect-docs/ut-04-menu-T_Initialize.png" title="Ut 04 menu t initialize"  width="490" height="218"></figure><figure  id="8e888c50_7155"><img alt="Ut 04 70" src="dungeon-architect-docs/ut-04-70.png" title="Ut 04 70"  width="518" height="197"></figure><figure  id="8e888c50_7156"><img alt="Ut 04 71" src="dungeon-architect-docs/ut-04-71.png" title="Ut 04 71"  width="600" height="280"></figure><figure  id="8e888c50_7157"><img alt="Ut 04 72a" src="dungeon-architect-docs/ut-04-72A.png" title="Ut 04 72a"  width="445" height="451"></figure><p id="8e888c50_7158">You can control the thickness of the caves from the <code class="code" id="8e888c50_7159">Cave Thickness</code> parameter. Each node on the layout graph gets converted into rooms in the tilemap.</p><p id="8e888c50_7160">The parameter <code class="code" id="8e888c50_7161">Tilemap Size Per Node</code> controls how many tiles are used to generate a room from the node. Bump this number up if you want more space in your rooms</p><p id="8e888c50_7162">If you want a more uniform grid like look on your rooms, bring the <code class="code" id="8e888c50_7163">Perturb Amount</code> close to <code class="code" id="8e888c50_7164">0</code></p><p id="8e888c50_7165"><code class="code" id="8e888c50_7166">Layout Padding</code> adds extra tiles around the dungeon layout. Set to <code class="code" id="8e888c50_7167">5</code> so we can apply some decorations outside the dungeon bounds</p><p id="8e888c50_7168">When you select a node on the layout graph, the tiles that belong to the node light up. This is controlled by the <code class="code" id="8e888c50_7169">Color Settings</code> parameters</p><section class="chapter"><h3 id="wall-generation-method" data-toc="wall-generation-method"   >Wall Generation Method</h3><figure  id="8e888c50_7170"><img alt="Ut 04 72b" src="dungeon-architect-docs/ut-04-72B.png" title="Ut 04 72b"  width="351" height="81"></figure><p id="8e888c50_7171">There are two ways of generating the walls, which depends on the asset you use for the dungeon.</p><ul class="list _ul" id="8e888c50_7172"><li class="list__item" id="8e888c50_7173"><p><span class="control" id="8e888c50_7174">Walls as Tiles:</span> The walls will take up a full tile in the tilemap. Use this if your wall prefab are as thick as the size of a ground tile. In the image below, walls tiles are grey </p><figure  id="8e888c50_7175"><img alt="Ut 04 72d" src="dungeon-architect-docs/ut-04-72D.png" title="Ut 04 72d"  width="574" height="629"></figure></li><li class="list__item" id="8e888c50_7176"><p><span class="control" id="8e888c50_7177">Walls as Edges</span> The walls do not take up any tiles and are aligned on the edges of a tile. Use this if your wall prefab is thin. In the image below, walls are red lines </p><figure  id="8e888c50_7178"><img alt="Ut 04 72c" src="dungeon-architect-docs/ut-04-72C.png" title="Ut 04 72c"  width="574" height="629"></figure></li></ul><aside class="prompt" data-type="tip" data-title="" id="8e888c50_7179"><p id="8e888c50_7180">If your walls don't align correctly while designing the theme, come back to this property and make sure it is set correctly</p></aside></section></section><section class="chapter"><h2 id="add-background-elevation" data-toc="add-background-elevation"   >Add Background Elevation</h2><p id="8e888c50_7181">We are going to create overlays and merge them with the original tilemap. Create the following two nodes:</p><ul class="list _ul" id="8e888c50_7182"><li class="list__item" id="8e888c50_7183"><p>Create a node <code class="code" id="8e888c50_7184">Tilemap &gt; Create Tilemap Elevations</code></p></li><li class="list__item" id="8e888c50_7185"><p>Create a node <code class="code" id="8e888c50_7186">Tilemap &gt; Merge Tilemaps</code></p></li></ul><figure  id="8e888c50_7187"><img alt="Ut 04 menu t create elevation" src="dungeon-architect-docs/ut-04-menu-T_CreateElevation.png" title="Ut 04 menu t create elevation"  width="490" height="218"></figure><figure  id="8e888c50_7188"><img alt="Ut 04 menu t merge" src="dungeon-architect-docs/ut-04-menu-T_Merge.png" title="Ut 04 menu t merge"  width="490" height="218"></figure><p id="8e888c50_7189">Link them up like below:</p><figure  id="8e888c50_7190"><img alt="Ut 04 73" src="dungeon-architect-docs/ut-04-73.png" title="Ut 04 73"  width="899" height="178"></figure><figure  id="8e888c50_7191"><img alt="Create Tilemap Elevation properties" src="dungeon-architect-docs/ut-04-74.png" title="Create Tilemap Elevation properties"  width="348" height="342"></figure><p id="8e888c50_7192">Update the properties</p><div class="table-wrapper"><table class="wide" id="8e888c50_7193"><thead><tr class="ijRowHead" id="8e888c50_7194"><th id="8e888c50_7195"><p>Parameter</p></th><th id="8e888c50_7196"><p>Value</p></th></tr></thead><tbody><tr id="8e888c50_7197"><td id="8e888c50_7198"><p><span class="control" id="8e888c50_7199">Noise Frequency</span></p></td><td id="8e888c50_7200"><p>0.1</p></td></tr><tr id="8e888c50_7201"><td id="8e888c50_7202"><p><span class="control" id="8e888c50_7203">Num Steps</span></p></td><td id="8e888c50_7204"><p>8</p></td></tr><tr id="8e888c50_7205"><td id="8e888c50_7206"><p><span class="control" id="8e888c50_7207">Min Height</span></p></td><td id="8e888c50_7208"><p>0.5</p></td></tr><tr id="8e888c50_7209"><td id="8e888c50_7210"><p><span class="control" id="8e888c50_7211">Max Height</span></p></td><td id="8e888c50_7212"><p>3.5</p></td></tr><tr id="8e888c50_7213"><td id="8e888c50_7214"><p><span class="control" id="8e888c50_7215">Sea Level</span></p></td><td id="8e888c50_7216"><p>-1</p></td></tr></tbody></table></div><figure  id="8e888c50_7217"><img alt="Create Tilemap Elevation Node Result" src="dungeon-architect-docs/ut-04-75.png" title="Create Tilemap Elevation Node Result"  width="676" height="586"></figure><p id="8e888c50_7218">We've specified the marker name as <code class="code" id="8e888c50_7219">Rock</code>. If you place objects under the specified marker node in the theme editor, they will show up on these tiles at the given height</p><aside class="prompt" data-type="tip" data-title="" id="8e888c50_7220"><p id="8e888c50_7221">The Min/Max height is logical and will be mulitplied by the dungeon config's Grid Size Y value. If the GridSize is <code class="code" id="8e888c50_7222">(4, 2, 4)</code> in the DungeonGridFlow game object's config and the tile height happens to be <code class="code" id="8e888c50_7223">2.5</code>, the actual placement will be on <code class="code" id="8e888c50_7224">2.5 * 2 = 5</code></p></aside></section><section class="chapter"><h2 id="add-tree-overlays" data-toc="add-tree-overlays"   >Add Tree Overlays</h2><p id="8e888c50_7225">We'll overlay trees on our dungeon using a noise parameter. These overlays will be placed such that they will not block the main path</p><p id="8e888c50_7226">Create a node <code class="code" id="8e888c50_7227">Tilemap &gt; Create Tilemap Overlay</code></p><figure  id="8e888c50_7228"><img alt="Ut 04 menu t create overlay" src="dungeon-architect-docs/ut-04-menu-T_CreateOverlay.png" title="Ut 04 menu t create overlay"  width="490" height="218"></figure><figure  id="8e888c50_7229"><img alt="Create Tilemap Overlay Node Connection" src="dungeon-architect-docs/ut-04-76.png" title="Create Tilemap Overlay Node Connection"  width="788" height="268"></figure><figure  id="8e888c50_7230"><img alt="Create Tilemap Overlay Node properties" src="dungeon-architect-docs/ut-04-77.png" title="Create Tilemap Overlay Node properties"  width="272" height="446"></figure><p id="8e888c50_7231"><span class="control" id="8e888c50_7232">Noise Settings</span></p><div class="table-wrapper"><table class="wide" id="8e888c50_7233"><thead><tr class="ijRowHead" id="8e888c50_7234"><th id="8e888c50_7235"><p>Parameter</p></th><th id="8e888c50_7236"><p>Value</p></th></tr></thead><tbody><tr id="8e888c50_7237"><td id="8e888c50_7238"><p>Noise Frequency</p></td><td id="8e888c50_7239"><p>0.2</p></td></tr><tr id="8e888c50_7240"><td id="8e888c50_7241"><p>Noise Max Value</p></td><td id="8e888c50_7242"><p>1.5</p></td></tr><tr id="8e888c50_7243"><td id="8e888c50_7244"><p>Noise Threshold</p></td><td id="8e888c50_7245"><p>0.75</p></td></tr><tr id="8e888c50_7246"><td id="8e888c50_7247"><p>Min Dist From Main Path</p></td><td id="8e888c50_7248"><p>1</p></td></tr></tbody></table></div><p id="8e888c50_7249"><span class="control" id="8e888c50_7250">Merge Config</span></p><div class="table-wrapper"><table class="wide" id="8e888c50_7251"><thead><tr class="ijRowHead" id="8e888c50_7252"><th id="8e888c50_7253"><p>Parameter</p></th><th id="8e888c50_7254"><p>Value</p></th></tr></thead><tbody><tr id="8e888c50_7255"><td id="8e888c50_7256"><p>Max Height</p></td><td id="8e888c50_7257"><p>1</p></td></tr></tbody></table></div><figure  id="8e888c50_7258"><img alt="Result of the Create Tilemap Overlay Node" src="dungeon-architect-docs/ut-04-78.png" title="Result of the Create Tilemap Overlay Node"  width="700" height="499"></figure><figure  id="8e888c50_7259"><img alt="Merged result" src="dungeon-architect-docs/ut-04-79.png" title="Merged result"  width="692" height="499"></figure></section><section class="chapter"><h2 id="finalize-tilemap" data-toc="finalize-tilemap"   >Finalize Tilemap</h2><p id="8e888c50_7260">Finalize the tilemap to complete the grid flow graph</p><p id="8e888c50_7261">Create a node <code class="code" id="8e888c50_7262">Tilemap &gt; Finalize Tilemap</code></p><figure  id="8e888c50_7263"><img alt="Ut 04 menu t finalize" src="dungeon-architect-docs/ut-04-menu-T_Finalize.png" title="Ut 04 menu t finalize"  width="490" height="218"></figure><figure  id="8e888c50_7264"><img alt="Ut 04 80" src="dungeon-architect-docs/ut-04-80.png" title="Ut 04 80"  width="506" height="108"></figure><figure  id="8e888c50_7265"><img alt="Ut 04 81" src="dungeon-architect-docs/ut-04-81.png" title="Ut 04 81"  width="691" height="568"></figure><p id="8e888c50_7266">Finalize Tilemap node places all the items on to the tilemap (enemies, keys, bonus etc)</p></section><section class="chapter"><h2 id="build-dungeon" data-toc="build-dungeon"   >Build Dungeon</h2><p id="8e888c50_7267">Assign this grid flow graph to your DungeonGridFlow game object and click <code class="code" id="8e888c50_7268">Build Dungeon</code></p><figure  id="8e888c50_7269"><img alt="Ut 04 82" src="dungeon-architect-docs/ut-04-82.png" title="Ut 04 82"  width="431" height="268"></figure><figure  id="8e888c50_7270"><img alt="Ut 04 83" src="dungeon-architect-docs/ut-04-83.jpg" title="Ut 04 83"  width="600" height="322"></figure></section><section class="chapter"><h2 id="optimize-tilemap" data-toc="optimize-tilemap"   >Optimize Tilemap</h2><p id="8e888c50_7271">When the tilemap based level is generated, there are many tiles that the player might never see, as they are far away from the dungeon layout</p><figure  id="8e888c50_7272"><img alt="Ut 04 84" src="dungeon-architect-docs/ut-04-84.jpg" title="Ut 04 84"  width="600" height="433"></figure><p id="8e888c50_7273">The <code class="code" id="8e888c50_7274">Optimize Tilemap</code> removes tiles that are away from the specified distance from the dungeon layout bounds</p><figure  id="8e888c50_7275"><img alt="Optimize Tilemap Node Result" src="dungeon-architect-docs/ut-04-86.png" title="Optimize Tilemap Node Result"  width="551" height="557"></figure><figure data-theme="light" id="8e888c50_7276" width="551" ><img alt="Optimize Tilemap Before / After" class="js-gif article__bordered-element" data-gif-src="dungeon-architect-docs/ut-04-87.gif" width="551"  style="width: 551px;"></figure><p id="8e888c50_7277">Create a node <code class="code" id="8e888c50_7278">Tilemap &gt; Optimize Tilemap</code></p><figure  id="8e888c50_7279"><img alt="Ut 04 menu t optimize" src="dungeon-architect-docs/ut-04-menu-T_Optimize.png" title="Ut 04 menu t optimize"  width="490" height="218"></figure><p id="8e888c50_7280">Connect it before the <code class="code" id="8e888c50_7281">Finalize Tilemap</code> node like below:</p><figure  id="8e888c50_7282"><img alt="Ut 04 88" src="dungeon-architect-docs/ut-04-88.png" title="Ut 04 88"  width="661" height="94"></figure><figure  id="8e888c50_7283"><img alt="Optimize Tilemap Node properties" src="dungeon-architect-docs/ut-04-89.png" title="Optimize Tilemap Node properties"  width="326" height="136"></figure><p id="8e888c50_7284">Rebuild the dungeon in the scene view</p><figure data-theme="light" id="8e888c50_7285" width="873" ><img alt="Optimize Tilemap Before / After" class="js-gif article__bordered-element" data-gif-src="dungeon-architect-docs/ut-04-85.gif" width="873"  style="width: 873px;"></figure></section><div class="last-modified"> Last modified: 24 January 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="gridflow-create-dungeon.html">Create a Grid Flow Dungeon</a>   <a class="navigation-links__next" href="gridflow-key-lock-system.html">Key Lock System</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script>
    <script src="../js/unity.js" defer></script>
</body></html>