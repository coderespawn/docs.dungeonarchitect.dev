<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2024-01-24T20:20:27.3206337"><meta name="build-number" content="${buildNumber}">       <title>Create Flow Graph | Dungeon Architect for Unity</title><script id="virtual-toc-data" type="application/json">[{"id":"create-a-snap-grid-flow-asset","level":0,"title":"Create a Snap Grid Flow Asset","anchor":"#create-a-snap-grid-flow-asset"},{"id":"create-grid","level":0,"title":"Create Grid","anchor":"#create-grid"},{"id":"create-main-path","level":0,"title":"Create Main Path","anchor":"#create-main-path"},{"id":"create-alternate-path","level":0,"title":"Create Alternate Path","anchor":"#create-alternate-path"},{"id":"create-another-path","level":0,"title":"Create Another Path","anchor":"#create-another-path"},{"id":"assign-module-database","level":0,"title":"Assign Module Database","anchor":"#assign-module-database"},{"id":"create-a-lift-module","level":0,"title":"Create a Lift Module","anchor":"#create-a-lift-module"},{"id":"create-a-goal-room","level":0,"title":"Create a Goal Room","anchor":"#create-a-goal-room"},{"id":"create-more-room-modules","level":0,"title":"Create More Room Modules","anchor":"#create-more-room-modules"}]</script><script id="topic-shortcuts" type="application/json"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Create Flow Graph | Dungeon Architect for Unity"/><meta property="og:description" content=""/><meta property="og:image" content=""/><meta property="og:site_name" content="Dungeon Architect for Unity Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="/unity/1.20/sgf-create-flow-graph.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Create Flow Graph | Dungeon Architect for Unity"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "/unity/1.20/sgf-create-flow-graph.html#webpage", "url": "/unity/1.20/sgf-create-flow-graph.html", "name": "Create Flow Graph | Dungeon Architect for Unity", "description": "", "image": "", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "/unity/#website", "url": "/unity/", "name": "Dungeon Architect for Unity Help" }</script><!-- End Schema.org --></head>      <body data-id="sgf-create-flow-graph" data-main-title="Create Flow Graph" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="sgf-introduction.md|Snap Grid Flow Builder"  >   <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Dungeon Architect for Unity 1.20 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="sgf-create-flow-graph"   id="sgf-create-flow-graph.md">Create Flow Graph</h1>  <p id="e4b03f1f_2453">Design the layout of your procedural dungeons using the flow editor. Then create an infinite number of procedural dungeons that follow this layout rule.</p><p id="e4b03f1f_2454">Create cyclic-paths, key-locks, teleporters, shops, treasure rooms, boss rooms and much more</p><section class="chapter"><h2 id="create-a-snap-grid-flow-asset" data-toc="create-a-snap-grid-flow-asset"   >Create a Snap Grid Flow Asset</h2><p id="e4b03f1f_2455">Move to an appropriate folder and create a new <code class="code" id="e4b03f1f_2456">Snap Grid Flow Graph</code> asset from the Create Menu</p><p id="e4b03f1f_2457"><code class="code" id="e4b03f1f_2458">Create &gt; Dungeon Architect &gt; Snap Grid Flow Builder &gt; Snap Grid Flow Graph</code></p><figure  id="e4b03f1f_2459"><img alt="Ut 09 05" src="dungeon-architect-docs/ut-09-05.png" title="Ut 09 05"  width="921" height="433"></figure><figure  id="e4b03f1f_2460"><img alt="Ut 09 06" src="dungeon-architect-docs/ut-09-06.png" title="Ut 09 06"  width="310" height="247"></figure><p id="e4b03f1f_2461">Double click the asset to open up the flow graph editor</p><figure  id="e4b03f1f_2462"><img alt="Ut 09 07" src="dungeon-architect-docs/ut-09-07.jpg" title="Ut 09 07"  width="1096" height="864"></figure><p id="e4b03f1f_2463">The top panel is the Exection Flow Graph where you would be designing your dungeon flow. The resulting layout graph is shown in the 3D viewport below</p><section class="chapter"><h3 id="3d-viewport-navigation" data-toc="3d-viewport-navigation"   >3D Viewport Navigation</h3><p id="e4b03f1f_2464">The navigation is similar to what you'd expect from Unity's scene view</p><ul class="list _ul" id="e4b03f1f_2465"><li class="list__item" id="e4b03f1f_2466"><p>Hold right mouse button and move to look around.</p></li><li class="list__item" id="e4b03f1f_2467"><p>Hold right mouse button and WASD to move</p></li><li class="list__item" id="e4b03f1f_2468"><p>Hold right mouse button and Q to move up, E to move down</p></li></ul></section></section><section class="chapter"><h2 id="create-grid" data-toc="create-grid"   >Create Grid</h2><p id="e4b03f1f_2469">Right click on the execution graph and add a <code class="code" id="e4b03f1f_2470">Create Grid</code> node from the context menu</p><p id="e4b03f1f_2471"><code class="code" id="e4b03f1f_2472">Layout Graph &gt; Create Grid</code></p><figure  id="e4b03f1f_2473"><img alt="Ut 09 08" src="dungeon-architect-docs/ut-09-08.png" title="Ut 09 08"  width="517" height="367"></figure><figure  id="e4b03f1f_2474"><img alt="Ut 09 09" src="dungeon-architect-docs/ut-09-09.png" title="Ut 09 09"  width="310" height="132"></figure><p id="e4b03f1f_2475">Link the <code class="code" id="e4b03f1f_2476">Create Grid</code> node to the <code class="code" id="e4b03f1f_2477">Result</code> node</p><figure  id="e4b03f1f_2478"><img alt="Ut 09 10" src="dungeon-architect-docs/ut-09-10.png" title="Ut 09 10"  width="355" height="104"></figure><aside class="prompt" data-type="tip" data-title="" id="e4b03f1f_2479"><p id="e4b03f1f_2480">To create a link, hover the mouse pointer over the border of the <code class="code" id="e4b03f1f_2481">Create Grid</code> node until it turns yellow. Then drag a link out of it and attach it to the border of the <code class="code" id="e4b03f1f_2482">Result</code> node</p></aside><p id="e4b03f1f_2483">Hit the <code class="code" id="e4b03f1f_2484">Build</code> button in the Execution Graph Panel</p><figure  id="e4b03f1f_2485"><img alt="Ut 09 11" src="dungeon-architect-docs/ut-09-11.png" title="Ut 09 11"  width="239" height="145"></figure><p id="e4b03f1f_2486">Move around in the 3D viewport and should should see a faint set of dots that represent the initial grid that this node has created. This is our work area and our dungeon layout will grow in it</p><figure  id="e4b03f1f_2487"><img alt="Ut 09 12" src="dungeon-architect-docs/ut-09-12.png" title="Ut 09 12"  width="892" height="522"></figure><p id="e4b03f1f_2488">Select the <code class="code" id="e4b03f1f_2489">Create Grid</code> node and inspect the properties</p><figure  id="e4b03f1f_2490"><img alt="Ut 09 13" src="dungeon-architect-docs/ut-09-13.png" title="Ut 09 13"  width="292" height="197"></figure><p id="e4b03f1f_2491">You may adjust the size of your initial work area here.</p><p id="e4b03f1f_2492">There are a few things to consider when choosing the size of your grid</p><ul class="list _ul" id="e4b03f1f_2493"><li class="list__item" id="e4b03f1f_2494"><p>Larger initial grids will require more processing power.</p></li><li class="list__item" id="e4b03f1f_2495"><p>Sometimes, it's better to have a smaller grid so it creates a nice tightly packed layout.</p></li><li class="list__item" id="e4b03f1f_2496"><p>However if the grid is too small, the paths will not have any room to grow</p></li></ul><p id="e4b03f1f_2497">You should come back to this node and adjust it as needed. For now, we'll leave it to default</p></section><section class="chapter"><h2 id="create-main-path" data-toc="create-main-path"   >Create Main Path</h2><p id="e4b03f1f_2498">Add a <code class="code" id="e4b03f1f_2499">Create Main Path</code> node</p><p id="e4b03f1f_2500"><code class="code" id="e4b03f1f_2501">Layout Graph &gt; Create Main Path</code></p><figure  id="e4b03f1f_2502"><img alt="Ut 09 14" src="dungeon-architect-docs/ut-09-14.png" title="Ut 09 14"  width="660" height="317"></figure><figure  id="e4b03f1f_2503"><img alt="Ut 09 15" src="dungeon-architect-docs/ut-09-15.png" title="Ut 09 15"  width="407" height="173"></figure><p id="e4b03f1f_2504">Break the previous connection we made to the result node and link it like this</p><figure  id="e4b03f1f_2505"><img alt="Ut 09 16" src="dungeon-architect-docs/ut-09-16.png" title="Ut 09 16"  width="497" height="109"></figure><aside class="prompt" data-type="tip" data-title="" id="e4b03f1f_2506"><p id="e4b03f1f_2507">To break the link, hover the mouse over the <code class="code" id="e4b03f1f_2508">Create Grid</code> node's border till it turns yellow. Then right click</p></aside><p id="e4b03f1f_2509">Hit build</p><figure  id="e4b03f1f_2510"><img alt="Ut 09 17" src="dungeon-architect-docs/ut-09-17.png" title="Ut 09 17"  width="660" height="593"></figure><p id="e4b03f1f_2511">Keep hitting build for different results</p><section class="chapter"><h3 id="more-viewport-controls" data-toc="more-viewport-controls"   >More Viewport Controls</h3><ul class="list _ul" id="e4b03f1f_2512"><li class="list__item" id="e4b03f1f_2513"><p>Hold Alt + Hold Left Mouse button + Move mouse to orbit around the selected nodes</p></li><li class="list__item" id="e4b03f1f_2514"><p>Press <code class="code" id="e4b03f1f_2515">F</code> key to focus on the active nodes and reset the orbit pivot</p></li></ul><figure data-theme="light" id="e4b03f1f_2516" width="200" ><img alt="Ut 09 18" class="js-gif article__bordered-element" data-gif-src="dungeon-architect-docs/ut-09-18.gif" width="200"  style="width: 200px;"></figure></section><section class="chapter"><h3 id="main-path-properties" data-toc="main-path-properties"   >Main Path Properties</h3><p id="e4b03f1f_2517">Select the <code class="code" id="e4b03f1f_2518">Create Main Path</code> node and inspect the properties</p><figure  id="e4b03f1f_2519"><img alt="Ut 09 19" src="dungeon-architect-docs/ut-09-19.png" title="Ut 09 19"  width="626" height="540"></figure><div class="table-wrapper"><table class="wide" id="e4b03f1f_2520"><thead><tr class="ijRowHead" id="e4b03f1f_2521"><th id="e4b03f1f_2522"><p>Parameter</p></th><th id="e4b03f1f_2523"><p>Description</p></th></tr></thead><tbody><tr id="e4b03f1f_2524"><td id="e4b03f1f_2525"><p>Path Size</p></td><td id="e4b03f1f_2526"><p>Control the size of the path with the variable</p></td></tr><tr id="e4b03f1f_2527"><td id="e4b03f1f_2528"><p>Path Name</p></td><td id="e4b03f1f_2529"><p>Each path in the flow system can be later referenced using its path name. The name of this path is set to <code class="code" id="e4b03f1f_2530">main</code></p></td></tr><tr id="e4b03f1f_2531"><td id="e4b03f1f_2532"><p>Snap Module Categories</p></td><td id="e4b03f1f_2533"><p>When you registered a room in the module database, you specified a category (which defaulted to <code class="code" id="e4b03f1f_2534">Room</code>). This allows you to control the module prefabs that would be used from that list to stitch the path</p></td></tr><tr id="e4b03f1f_2535"><td id="e4b03f1f_2536"><p>Node Color</p></td><td id="e4b03f1f_2537"><p>Adjust the preview color of the nodes created in this path</p></td></tr><tr id="e4b03f1f_2538"><td id="e4b03f1f_2539"><p>Start/End Marker Names</p></td><td id="e4b03f1f_2540"><p>These values allow you to insert your prefabs into the start / end rooms using the theme engine. More on this later</p></td></tr><tr id="e4b03f1f_2541"><td id="e4b03f1f_2542"><p>Start/End Node Path Name</p></td><td id="e4b03f1f_2543"><p>Override the path name of the first and the last node in the path. This allows you to give a unique path name to your spawn room and goal room</p></td></tr><tr id="e4b03f1f_2544"><td id="e4b03f1f_2545"><p>Position Constraints</p></td><td id="e4b03f1f_2546"><p>Control the position of the nodes in the path with your own scripts and rules. More on this in the later sections</p></td></tr><tr id="e4b03f1f_2547"><td id="e4b03f1f_2548"><p>Snap Module Constraints</p></td><td id="e4b03f1f_2549"><p>Override the snap modules for any of the nodes in the path with your own scripts and rules. More on this in the later sections</p></td></tr></tbody></table></div><p id="e4b03f1f_2550">We'll leave all the properties unchanged for now</p></section></section><section class="chapter"><h2 id="create-alternate-path" data-toc="create-alternate-path"   >Create Alternate Path</h2><p id="e4b03f1f_2551">Add a node <code class="code" id="e4b03f1f_2552">Create Path</code> and connect it as below</p><figure  id="e4b03f1f_2553"><img alt="Ut 09 20" src="dungeon-architect-docs/ut-09-20.png" title="Ut 09 20"  width="575" height="157"></figure><figure  id="e4b03f1f_2554"><img alt="Ut 09 22" src="dungeon-architect-docs/ut-09-22.png" title="Ut 09 22"  width="659" height="134"></figure><p id="e4b03f1f_2555">Select the node and inspect the properties</p><figure  id="e4b03f1f_2556"><img alt="Ut 09 23" src="dungeon-architect-docs/ut-09-23.png" title="Ut 09 23"  width="473" height="471"></figure><p id="e4b03f1f_2557">Build the graph, and you'll see a new branch (orange) emitting out of the main branch (green)</p><figure  id="e4b03f1f_2558"><img alt="Ut 09 21" src="dungeon-architect-docs/ut-09-21.png" title="Ut 09 21"  width="1637" height="851"></figure><p id="e4b03f1f_2559">This new orange path branched out of the main (green) path because we have configured it to do so by setting the <code class="code" id="e4b03f1f_2560">Start from Path</code> parameter to <code class="code" id="e4b03f1f_2561">main</code></p><p id="e4b03f1f_2562">We would like to have this new path merge back into the main path. Set the <code class="code" id="e4b03f1f_2563">End on Path</code> parameter to <code class="code" id="e4b03f1f_2564">main</code>. We also want to reference this new path as <code class="code" id="e4b03f1f_2565">alt</code></p><figure  id="e4b03f1f_2566"><img alt="Ut 09 24" src="dungeon-architect-docs/ut-09-24.png" title="Ut 09 24"  width="476" height="294"></figure><p id="e4b03f1f_2567">Control the size of the path with the <code class="code" id="e4b03f1f_2568">Min/Max Path Size</code> parameter</p><p id="e4b03f1f_2569">Add a description to this node</p><figure  id="e4b03f1f_2570"><img alt="Ut 09 25" src="dungeon-architect-docs/ut-09-25.png" title="Ut 09 25"  width="467" height="69"></figure><figure  id="e4b03f1f_2571"><img alt="Ut 09 26" src="dungeon-architect-docs/ut-09-26.png" title="Ut 09 26"  width="395" height="151"></figure><aside class="prompt" data-type="tip" data-title="" id="e4b03f1f_2572"><p id="e4b03f1f_2573">It's a good practice to add description to your nodes, as it becomes easier to manage them when you graph grows bigger</p></aside></section><section class="chapter"><h2 id="create-another-path" data-toc="create-another-path"   >Create Another Path</h2><p id="e4b03f1f_2574">We'll create another path originating from the 'alt' path and merging back into the 'main' path</p><figure  id="e4b03f1f_2575"><img alt="Ut 09 28" src="dungeon-architect-docs/ut-09-28.png" title="Ut 09 28"  width="714" height="103"></figure><figure  id="e4b03f1f_2576"><img alt="Ut 09 29" src="dungeon-architect-docs/ut-09-29.png" title="Ut 09 29"  width="468" height="480"></figure><p id="e4b03f1f_2577">The path originates out of the <code class="code" id="e4b03f1f_2578">alt</code> path (orange) and merges beack into the <code class="code" id="e4b03f1f_2579">main</code> path (green)</p><figure  id="e4b03f1f_2580"><img alt="Ut 09 27" src="dungeon-architect-docs/ut-09-27.png" title="Ut 09 27"  width="973" height="730"></figure></section><section class="chapter"><h2 id="assign-module-database" data-toc="assign-module-database"   >Assign Module Database</h2><p id="e4b03f1f_2581">The flow editor doesn't have a module database assigned, so it doesn't really know how our modules look like</p><p id="e4b03f1f_2582">Let's assign the module database in the editor settings, so it creates a layout graph compatible with how we've set up the modules</p><p id="e4b03f1f_2583">Click an empty area in the Execution Flow Graph to view the editor properties</p><figure  id="e4b03f1f_2584"><img alt="Ut 09 30" src="dungeon-architect-docs/ut-09-30.png" title="Ut 09 30"  width="427" height="238"></figure><div class="table-wrapper"><table class="wide" id="e4b03f1f_2585"><thead><tr class="ijRowHead" id="e4b03f1f_2586"><th id="e4b03f1f_2587"><p>Property</p></th><th id="e4b03f1f_2588"><p>Description</p></th></tr></thead><tbody><tr id="e4b03f1f_2589"><td id="e4b03f1f_2590"><p>Randomize Seed</p></td><td id="e4b03f1f_2591"><p>Randomize the layout everytime you build</p></td></tr><tr id="e4b03f1f_2592"><td id="e4b03f1f_2593"><p>Seed</p></td><td id="e4b03f1f_2594"><p>The current seed that was used to build the dungeon</p></td></tr><tr id="e4b03f1f_2595"><td id="e4b03f1f_2596"><p>Module Database</p></td><td id="e4b03f1f_2597"><p>Specify a module database asset to build the flow graph compatible with the regsitered module prefabs</p></td></tr><tr id="e4b03f1f_2598"><td id="e4b03f1f_2599"><p>Auto Focus Viewport</p></td><td id="e4b03f1f_2600"><p>Whenever you select a node in the execution graph, the camera auto-focuses on all the active nodes. Uncheck to disable this</p></td></tr></tbody></table></div><p id="e4b03f1f_2601">Assign the module database we created earlier</p><figure  id="e4b03f1f_2602"><img alt="Ut 09 31" src="dungeon-architect-docs/ut-09-31.png" title="Ut 09 31"  width="943" height="498"></figure><p id="e4b03f1f_2603">Rebuild and have a look at the layout graph now</p><figure  id="e4b03f1f_2604"><img alt="Ut 09 32" src="dungeon-architect-docs/ut-09-32.png" title="Ut 09 32"  width="1056" height="705"></figure><p id="e4b03f1f_2605">You'll notice that the flow graph is built on a single floor, which is consistent with the way we've designed our registered modules. We have designed a room which, although it goes out in the four horizontal directions, there's no way of moving up or down.</p><aside class="prompt" data-type="tip" data-title="" id="e4b03f1f_2606"><p id="e4b03f1f_2607">If your build fails, make sure you've compiled your module database and saved the asset</p></aside></section><section class="chapter"><h2 id="create-a-lift-module" data-toc="create-a-lift-module"   >Create a Lift Module</h2><p id="e4b03f1f_2608">Let's create a module that lets us move to another floor</p><section class="chapter"><h3 id="design-lift-module" data-toc="design-lift-module"   >Design Lift Module</h3><p id="e4b03f1f_2609">Create a new module as we've done in the previous <a href="sgf-modules.html" id="e4b03f1f_2610" data-tooltip="A room is designed in a separate prefab, and it is called a Module"  >Modules</a> section</p><ol class="list _decimal" id="e4b03f1f_2611" type="1"><li class="list__item" id="e4b03f1f_2612"><p id="e4b03f1f_2613">Switch to a new scene and create a new game object and name it <code class="code" id="e4b03f1f_2614">Module_Lift</code></p><figure  id="e4b03f1f_2615"><img alt="Ut 09 34" src="dungeon-architect-docs/ut-09-34.png" title="Ut 09 34"  width="311" height="99"></figure></li><li class="list__item" id="e4b03f1f_2616"><p id="e4b03f1f_2617">Reset the transform</p><figure  id="e4b03f1f_2618"><img alt="Ut 09 33" src="dungeon-architect-docs/ut-09-33.png" title="Ut 09 33"  width="467" height="216"></figure></li><li class="list__item" id="e4b03f1f_2619"><p id="e4b03f1f_2620">Add a <code class="code" id="e4b03f1f_2621">Snap Grid Flow Module</code> component and assign the module bounds asset</p><figure  id="e4b03f1f_2622"><img alt="Ut 09 35" src="dungeon-architect-docs/ut-09-35.png" title="Ut 09 35"  width="465" height="142"></figure><p id="e4b03f1f_2623">You should see the bounds of the module</p><figure  id="e4b03f1f_2624"><img alt="Ut 09 36" src="dungeon-architect-docs/ut-09-36.jpg" title="Ut 09 36"  width="1204" height="941"></figure></li><li class="list__item" id="e4b03f1f_2625"><p id="e4b03f1f_2626">We want the module to span two node vertically</p><p id="e4b03f1f_2627">Set the Num Chunks parameter to <code class="code" id="e4b03f1f_2628">(1, 2, 1)</code></p><figure  id="e4b03f1f_2629"><img alt="Ut 09 38" src="dungeon-architect-docs/ut-09-38.png" title="Ut 09 38"  width="455" height="117"></figure><figure  id="e4b03f1f_2630"><img alt="Ut 09 37" src="dungeon-architect-docs/ut-09-37.jpg" title="Ut 09 37"  width="800" height="789"></figure></li><li class="list__item" id="e4b03f1f_2631"><p id="e4b03f1f_2632">Go ahead and design your lift module in any way you like. Leave two openings on the same side of the room, one below and another on top</p><figure  id="e4b03f1f_2633"><img alt="Ut 09 39" src="dungeon-architect-docs/ut-09-39.jpg" title="Ut 09 39"  width="984" height="990"></figure></li><li class="list__item" id="e4b03f1f_2634"><p id="e4b03f1f_2635">Drop in two snap connection prefabs and make sure they are facing outwards. Align them correctly using the <code class="code" id="e4b03f1f_2636">Grid and Snap</code> window</p><figure  id="e4b03f1f_2637"><img alt="Ut 09 40" src="dungeon-architect-docs/ut-09-40.jpg" title="Ut 09 40"  width="987" height="829"></figure><figure  id="e4b03f1f_2638"><img alt="Ut 09 41" src="dungeon-architect-docs/ut-09-41.jpg" title="Ut 09 41"  width="1008" height="1095"></figure></li><li class="list__item" id="e4b03f1f_2639"><p id="e4b03f1f_2640">Make sure all the objects that make up this room are inside the module game object</p><figure  id="e4b03f1f_2641"><img alt="Ut 09 42" src="dungeon-architect-docs/ut-09-42.png" title="Ut 09 42"  width="429" height="360"></figure></li><li class="list__item" id="e4b03f1f_2642"><p id="e4b03f1f_2643">Save this module lift as a prefab</p><figure  id="e4b03f1f_2644"><img alt="Ut 09 43" src="dungeon-architect-docs/ut-09-43.png" title="Ut 09 43"  width="372" height="458"></figure></li><li class="list__item" id="e4b03f1f_2645"><p id="e4b03f1f_2646">Delete the Module_Lift game object from the scene as we no longer need it</p><figure  id="e4b03f1f_2647"><img alt="Ut 09 44" src="dungeon-architect-docs/ut-09-44.png" title="Ut 09 44"  width="276" height="130"></figure></li></ol></section><section class="chapter"><h3 id="register-lift-module" data-toc="register-lift-module"   >Register Lift Module</h3><p id="e4b03f1f_2648">Register this module in the Module database. Select the module database asset and in the properties, register our new lift module</p><figure  id="e4b03f1f_2649"><img alt="Ut 09 45" src="dungeon-architect-docs/ut-09-45.png" title="Ut 09 45"  width="221" height="124"></figure><figure  id="e4b03f1f_2650"><img alt="Ut 09 46" src="dungeon-architect-docs/ut-09-46.png" title="Ut 09 46"  width="458" height="509"></figure><p id="e4b03f1f_2651">Since we've modified the module database, hit <code class="code" id="e4b03f1f_2652">Compile Module Database</code> and save the asset</p><figure  id="e4b03f1f_2653"><img alt="Ut 09 47" src="dungeon-architect-docs/ut-09-47.png" title="Ut 09 47"  width="457" height="181"></figure><p id="e4b03f1f_2654">Open up our flow graph editor and reassign the Module database in the Editor Settings, as we've done previously</p><figure  id="e4b03f1f_2655"><img alt="Ut 09 48" src="dungeon-architect-docs/ut-09-48.png" title="Ut 09 48"  width="1365" height="529"></figure><p id="e4b03f1f_2656">Click build and now, the flow graph uses the new lift module to move to other floors</p><figure  id="e4b03f1f_2657"><img alt="Ut 09 49" src="dungeon-architect-docs/ut-09-49.png" title="Ut 09 49"  width="953" height="701"></figure><figure data-theme="light" id="e4b03f1f_2658" width="200" ><img alt="Ut 09 50" class="js-gif article__bordered-element" data-gif-src="dungeon-architect-docs/ut-09-50.gif" width="200"  style="width: 200px;"></figure><p id="e4b03f1f_2659">Notice how the links enter and exit out of the same side, since this is how we've set it up in our module design</p><figure  id="e4b03f1f_2660"><img alt="Ut 09 51" src="dungeon-architect-docs/ut-09-51.png" title="Ut 09 51"  width="646" height="808"></figure></section><section class="chapter"><h3 id="adjust-selection-probability" data-toc="adjust-selection-probability"   >Adjust Selection Probability</h3><p id="e4b03f1f_2661">We don't want the lift to show up too often. Open up the Module database and set the selection weight to <code class="code" id="e4b03f1f_2662">0.1</code> on the lift module entry</p><figure  id="e4b03f1f_2663"><img alt="Ut 09 54" src="dungeon-architect-docs/ut-09-54.png" title="Ut 09 54"  width="554" height="446"></figure><p id="e4b03f1f_2664">Before <code class="code" id="e4b03f1f_2665">(with selection weight 1.0)</code>:</p><figure  id="e4b03f1f_2666"><img alt="Ut 09 52" src="dungeon-architect-docs/ut-09-52.png" title="Ut 09 52"  width="779" height="779"></figure><p id="e4b03f1f_2667">After <code class="code" id="e4b03f1f_2668">(with selection weight 0.1)</code>:</p><figure  id="e4b03f1f_2669"><img alt="Ut 09 53" src="dungeon-architect-docs/ut-09-53.png" title="Ut 09 53"  width="1050" height="590"></figure></section></section><section class="chapter"><h2 id="create-a-goal-room" data-toc="create-a-goal-room"   >Create a Goal Room</h2><p id="e4b03f1f_2670">We'll create a large <code class="code" id="e4b03f1f_2671">2x2x2</code> room for the boss fight and register it under the category <code class="code" id="e4b03f1f_2672">Boss</code>.</p><section class="chapter"><h3 id="design-the-goal-room-prefab" data-toc="design-the-goal-room-prefab"   >Design the Goal Room Prefab</h3><ol class="list _decimal" id="e4b03f1f_2673" type="1"><li class="list__item" id="e4b03f1f_2674"><p>Open a new empty scene, create an empty game object and name it <code class="code" id="e4b03f1f_2675">Room_BossFight</code></p></li></ol><figure  id="e4b03f1f_2676"><img alt="Ut 09 55" src="dungeon-architect-docs/ut-09-55.png" title="Ut 09 55"  width="262" height="142"></figure><ol class="list _decimal" id="e4b03f1f_2677" type="1" start="2"><li class="list__item" id="e4b03f1f_2678"><p>Reset the transform</p></li></ol><figure  id="e4b03f1f_2679"><img alt="Ut 09 56" src="dungeon-architect-docs/ut-09-56.png" title="Ut 09 56"  width="418" height="187"></figure><ol class="list _decimal" id="e4b03f1f_2680" type="1" start="3"><li class="list__item" id="e4b03f1f_2681"><p>Add a <code class="code" id="e4b03f1f_2682">Snap Grid Flow Module</code> component and set the num chunks to <code class="code" id="e4b03f1f_2683">(2, 2, 2)</code></p></li></ol><figure  id="e4b03f1f_2684"><img alt="Ut 09 57" src="dungeon-architect-docs/ut-09-57.png" title="Ut 09 57"  width="414" height="127"></figure><ol class="list _decimal" id="e4b03f1f_2685" type="1" start="4"><li class="list__item" id="e4b03f1f_2686"><p>Assign the module bounds</p></li></ol><figure  id="e4b03f1f_2687"><img alt="Ut 09 58" src="dungeon-architect-docs/ut-09-58.png" title="Ut 09 58"  width="412" height="129"></figure><p id="e4b03f1f_2688">You should now see a the bounds visuals in the scene view. You have a large area to design your boss fight arena</p><figure  id="e4b03f1f_2689"><img alt="Ut 09 59" src="dungeon-architect-docs/ut-09-59.jpg" title="Ut 09 59"  width="1227" height="967"></figure><ol class="list _decimal" id="e4b03f1f_2690" type="1" start="5"><li class="list__item" id="e4b03f1f_2691"><p>Design the module in any way you like.</p></li></ol><figure  id="e4b03f1f_2692"><img alt="Ut 09 60" src="dungeon-architect-docs/ut-09-60.jpg" title="Ut 09 60"  width="1000" height="791"></figure><p id="e4b03f1f_2693">In our example, we'll keep only one opening on the top floor, and the player falls down to the arena to fight the boss</p><ol class="list _decimal" id="e4b03f1f_2694" type="1" start="6"><li class="list__item" id="e4b03f1f_2695"><p>Add the snap module near the opening and snap it to the correct position</p></li></ol><figure  id="e4b03f1f_2696"><img alt="Ut 09 61" src="dungeon-architect-docs/ut-09-61.jpg" title="Ut 09 61"  width="1049" height="960"></figure><ol class="list _decimal" id="e4b03f1f_2697" type="1" start="7"><li class="list__item" id="e4b03f1f_2698"><p>Make sure all your objects are inside the module prefab</p></li></ol><figure  id="e4b03f1f_2699"><img alt="Ut 09 62" src="dungeon-architect-docs/ut-09-62.png" title="Ut 09 62"  width="282" height="157"></figure><ol class="list _decimal" id="e4b03f1f_2700" type="1" start="8"><li class="list__item" id="e4b03f1f_2701"><p>Turn this into a prefab</p></li></ol><figure  id="e4b03f1f_2702"><img alt="Ut 09 63" src="dungeon-architect-docs/ut-09-63.png" title="Ut 09 63"  width="510" height="570"></figure><ol class="list _decimal" id="e4b03f1f_2703" type="1" start="9"><li class="list__item" id="e4b03f1f_2704"><p>Delete the module game object from the scene</p></li></ol><figure  id="e4b03f1f_2705"><img alt="Ut 09 64" src="dungeon-architect-docs/ut-09-64.png" title="Ut 09 64"  width="235" height="136"></figure></section><section class="chapter"><h3 id="register-the-module" data-toc="register-the-module"   >Register the Module</h3><p id="e4b03f1f_2706">Register this module in the <code class="code" id="e4b03f1f_2707">Module Database</code> with the category <code class="code" id="e4b03f1f_2708">Boss</code></p><figure  id="e4b03f1f_2709"><img alt="Ut 09 65" src="dungeon-architect-docs/ut-09-65.png" title="Ut 09 65"  width="393" height="425"></figure><p id="e4b03f1f_2710">Make sure the following parameters are set</p><div class="table-wrapper"><table class="wide" id="e4b03f1f_2711"><thead><tr class="ijRowHead" id="e4b03f1f_2712"><th id="e4b03f1f_2713"><p>Parameter</p></th><th id="e4b03f1f_2714"><p>Value</p></th></tr></thead><tbody><tr id="e4b03f1f_2715"><td id="e4b03f1f_2716"><p>Module Prefab</p></td><td id="e4b03f1f_2717"><p>Room_BossFight</p></td></tr><tr id="e4b03f1f_2718"><td id="e4b03f1f_2719"><p>Category</p></td><td id="e4b03f1f_2720"><p>Boss</p></td></tr><tr id="e4b03f1f_2721"><td id="e4b03f1f_2722"><p>Selection Weight</p></td><td id="e4b03f1f_2723"><p>1</p></td></tr></tbody></table></div><p id="e4b03f1f_2724">Since we've modified the module database, hit <code class="code" id="e4b03f1f_2725">Compile Module Database</code> and save the asset</p><figure  id="e4b03f1f_2726"><img alt="Ut 09 47" src="dungeon-architect-docs/ut-09-47.png" title="Ut 09 47"  width="457" height="181"></figure><p id="e4b03f1f_2727">Open up our flow graph editor and reassign the Module database in the Editor Settings, as we've done previously</p><figure  id="e4b03f1f_2728"><img alt="Ut 09 48" src="dungeon-architect-docs/ut-09-48.png" title="Ut 09 48"  width="1365" height="529"></figure><p id="e4b03f1f_2729">Select the <code class="code" id="e4b03f1f_2730">Create Main Path</code> node and inspect the properties in the Details panel</p><figure  id="e4b03f1f_2731"><img alt="Ut 09 67" src="dungeon-architect-docs/ut-09-67.png" title="Ut 09 67"  width="393" height="125"></figure><figure  id="e4b03f1f_2732"><img alt="Ut 09 66" src="dungeon-architect-docs/ut-09-66.png" title="Ut 09 66"  width="411" height="546"></figure><p id="e4b03f1f_2733">Change the <code class="code" id="e4b03f1f_2734">Category Constraint Mode</code> to <code class="code" id="e4b03f1f_2735">Start End Node</code></p><p id="e4b03f1f_2736">This allows you to override the category of the start and the end nodes.</p><figure  id="e4b03f1f_2737"><img alt="Ut 09 68" src="dungeon-architect-docs/ut-09-68.png" title="Ut 09 68"  width="413" height="197"></figure><p id="e4b03f1f_2738">This will force the flow system to pick up modules that are registered under the <code class="code" id="e4b03f1f_2739">Boss</code> category. We previously registered our boss room with this category</p><aside class="prompt" data-type="tip" data-title="" id="e4b03f1f_2740"><p id="e4b03f1f_2741">You can have more than one module registered under the same category. For example, you may have 3 boss rooms registered in the module database under the category <code class="code" id="e4b03f1f_2742">Boss</code> and it would randomly pick one while building it</p></aside><p id="e4b03f1f_2743">Build the flow graph and have a look at the layout graph</p><figure  id="e4b03f1f_2744"><img alt="Ut 09 69" src="dungeon-architect-docs/ut-09-69.png" title="Ut 09 69"  width="1085" height="700"></figure><p id="e4b03f1f_2745">The last node in the main path has a size of <code class="code" id="e4b03f1f_2746">2x2x2</code> to accommodate our goal module. It also enters from the correct position</p></section></section><section class="chapter"><h2 id="create-more-room-modules" data-toc="create-more-room-modules"   >Create More Room Modules</h2><p id="e4b03f1f_2747">Add a few more <code class="code" id="e4b03f1f_2748">Room</code> modules of size <code class="code" id="e4b03f1f_2749">2x1x1</code> and <code class="code" id="e4b03f1f_2750">2x1x2</code></p><figure  id="e4b03f1f_2751"><img alt="Ut 09 92" src="dungeon-architect-docs/ut-09-92.jpg" title="Ut 09 92"  width="775" height="504"></figure><figure  id="e4b03f1f_2752"><img alt="Ut 09 93" src="dungeon-architect-docs/ut-09-93.jpg" title="Ut 09 93"  width="1253" height="899"></figure><p id="e4b03f1f_2753">Register them with the module database under the category <code class="code" id="e4b03f1f_2754">Room</code> and click <code class="code" id="e4b03f1f_2755">Compile Module Database</code>. Adjust their weights to control how often they appear</p><p id="e4b03f1f_2756">Rebuild the flow graph</p><figure  id="e4b03f1f_2757"><img alt="Ut 09 94" src="dungeon-architect-docs/ut-09-94.png" title="Ut 09 94"  width="826" height="653"></figure></section><div class="last-modified"> Last modified: 24 January 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="sgf-module-database.html">Module Database</a>   <a class="navigation-links__next" href="sgf-build-dungeon.html">Build Dungeon</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script>
    <script src="../js/unity.js" defer></script>
</body></html>