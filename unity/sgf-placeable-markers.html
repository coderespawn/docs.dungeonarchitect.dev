<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2024-01-24T13:10:25.9415715"><meta name="build-number" content="${buildNumber}">       <title>Placeable Markers | Dungeon Architect for Unity</title><script id="virtual-toc-data" type="application/json">[{"id":"spawn-items-in-flow-graph","level":0,"title":"Spawn Items in Flow Graph","anchor":"#spawn-items-in-flow-graph"},{"id":"placeable-markers","level":0,"title":"Placeable Markers","anchor":"#placeable-markers"},{"id":"rebuild-module-database-cache","level":0,"title":"Rebuild Module Database Cache","anchor":"#rebuild-module-database-cache"},{"id":"update-theme-file","level":0,"title":"Update Theme File","anchor":"#update-theme-file"},{"id":"build-dungeon","level":0,"title":"Build Dungeon","anchor":"#build-dungeon"}]</script><script id="topic-shortcuts" type="application/json"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Placeable Markers | Dungeon Architect for Unity"/><meta property="og:description" content=""/><meta property="og:image" content=""/><meta property="og:site_name" content="Dungeon Architect for Unity Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="/unity/1.0/sgf-placeable-markers.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Placeable Markers | Dungeon Architect for Unity"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "/unity/1.0/sgf-placeable-markers.html#webpage", "url": "/unity/1.0/sgf-placeable-markers.html", "name": "Placeable Markers | Dungeon Architect for Unity", "description": "", "image": "", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "/unity/#website", "url": "/unity/", "name": "Dungeon Architect for Unity Help" }</script><!-- End Schema.org --></head>      <body data-id="sgf-placeable-markers" data-main-title="Placeable Markers" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="sgf-introduction.md|Snap Grid Flow Builder"  >   <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Dungeon Architect for Unity 1.0 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="sgf-placeable-markers"   id="sgf-placeable-markers.md">Placeable Markers</h1>  <p id="9b33bdb1_1">In this section, we'll spawn items like NPCs, power ups etc in our dungeon.</p><p id="9b33bdb1_2">For this, we'll do the following:</p><ul class="list _ul" id="9b33bdb1_3"><li class="list__item" id="9b33bdb1_4"><p>Use the <code class="code" id="9b33bdb1_5">Spawn Item</code> node in the flow graph. This will add items in the layout graph</p></li><li class="list__item" id="9b33bdb1_6"><p>Create <code class="code" id="9b33bdb1_7">Placeable Marker</code> assets and drop a few of them in the snap modules so that the builder can spawn them at those places when necessary</p></li><li class="list__item" id="9b33bdb1_8"><p>Use the Theme engine to spawn the actual prefabs at those marker locations</p></li></ul><section class="chapter"><h2 id="spawn-items-in-flow-graph" data-toc="spawn-items-in-flow-graph"   >Spawn Items in Flow Graph</h2><p id="9b33bdb1_9">Open up our flow graph editor and reassign the Module database in the Editor Settings, as we've done previously</p><figure  id="9b33bdb1_10"><img alt="Ut 09 48" src="dungeon-architect-docs/ut-09-48.png" title="Ut 09 48"  width="1365" height="529"></figure><ol class="list _decimal" id="9b33bdb1_11" type="1"><li class="list__item" id="9b33bdb1_12"><p>Create a new <code class="code" id="9b33bdb1_13">Spawn Items</code> node and link it up as shown below:</p></li></ol><figure  id="9b33bdb1_14"><img alt="Ut 10 01" src="dungeon-architect-docs/ut-10-01.png" title="Ut 10 01"  width="490" height="199"></figure><figure  id="9b33bdb1_15"><img alt="Ut 10 02" src="dungeon-architect-docs/ut-10-02.png" title="Ut 10 02"  width="730" height="150"></figure><ol class="list _decimal" id="9b33bdb1_16" type="1" start="2"><li class="list__item" id="9b33bdb1_17"><p>Select the <code class="code" id="9b33bdb1_18">Spawn Items</code> node and inspect the properties.</p></li></ol><figure  id="9b33bdb1_19"><img alt="Ut 10 03" src="dungeon-architect-docs/ut-10-03.png" title="Ut 10 03"  width="455" height="382"></figure><ol class="list _decimal" id="9b33bdb1_20" type="1" start="3"><li class="list__item" id="9b33bdb1_21"><p>We want to spawn enemies in the <code class="code" id="9b33bdb1_22">main</code> path (green) and the <code class="code" id="9b33bdb1_23">alt</code> path (orange). </p><ul class="list _ul" id="9b33bdb1_24"><li class="list__item" id="9b33bdb1_25"><p>Add two entries to the <code class="code" id="9b33bdb1_26">Paths</code> array and set the values to <code class="code" id="9b33bdb1_27">main</code> and <code class="code" id="9b33bdb1_28">alt</code></p></li><li class="list__item" id="9b33bdb1_29"><p>Set the <code class="code" id="9b33bdb1_30">Item Type</code> to <code class="code" id="9b33bdb1_31">Enemy</code></p></li><li class="list__item" id="9b33bdb1_32"><p>Set the marker name to <code class="code" id="9b33bdb1_33">Grunt</code>. Later in the theme file, we'll create a marker node named <code class="code" id="9b33bdb1_34">Grunt</code> and place our NPC prefabs under it</p></li></ul></li></ol><figure  id="9b33bdb1_35"><img alt="Ut 10 04" src="dungeon-architect-docs/ut-10-04.png" title="Ut 10 04"  width="455" height="212"></figure><ol class="list _decimal" id="9b33bdb1_36" type="1" start="4"><li class="list__item" id="9b33bdb1_37"><p>Rebuild the flow graph</p></li></ol><figure  id="9b33bdb1_38"><img alt="Ut 10 05" src="dungeon-architect-docs/ut-10-05.png" title="Ut 10 05"  width="1081" height="814"></figure><p id="9b33bdb1_39">The nodes now in the green path <code class="code" id="9b33bdb1_40">(main)</code> and orange path <code class="code" id="9b33bdb1_41">(alt)</code> have red enemy items</p><ol class="list _decimal" id="9b33bdb1_42" type="1" start="5"><li class="list__item" id="9b33bdb1_43"><p id="9b33bdb1_44">Add a description to this node</p><figure  id="9b33bdb1_45"><img alt="Ut 10 06" src="dungeon-architect-docs/ut-10-06.png" title="Ut 10 06"  width="324" height="76"></figure><figure  id="9b33bdb1_46"><img alt="Ut 10 07" src="dungeon-architect-docs/ut-10-07.png" title="Ut 10 07"  width="531" height="139"></figure></li></ol></section><section class="chapter"><h2 id="placeable-markers" data-toc="placeable-markers"   >Placeable Markers</h2><p id="9b33bdb1_47">A placeable marker is an prefab you create, which you can then drag and drop anywhere on your modules. You can then use the theme file to spawn objects at that location.</p><p id="9b33bdb1_48">A placeable marker prefab can contain more than one marker name. For example, a placeable marker prefab named <code class="code" id="9b33bdb1_49">PM_Enemies</code> may contain a list of marker names like (<code class="code" id="9b33bdb1_50">Grunt</code>, <code class="code" id="9b33bdb1_51">FireTroll</code>, <code class="code" id="9b33bdb1_52">IceTroll</code>, <code class="code" id="9b33bdb1_53">Goblin</code>). In your snap module, you'd place these markers in appropriate locations (say 10 different locations within the room module).</p><p id="9b33bdb1_54">If the dungeon builder needs to spawn a <code class="code" id="9b33bdb1_55">Grunt</code> marker 4 times inside the room, it will first find all the existing and compatible marker assets placed in the room. In this case <code class="code" id="9b33bdb1_56">PM_Enemies</code> would be compatible since it contains a <code class="code" id="9b33bdb1_57">Grunt</code> marker. Since we have 10 of these in the room module, it will randomly pick 4 from them and use the theme file to spawn the grunt prefab</p><section class="chapter"><h3 id="create-prefab" data-toc="create-prefab"   >Create Prefab</h3><ol class="list _decimal" id="9b33bdb1_58" type="1"><li class="list__item" id="9b33bdb1_59"><p id="9b33bdb1_60">Move to an appropriate folder and create a Placeable Marker prefab from the create menu</p><figure  id="9b33bdb1_61"><img alt="Ut 10 08" src="dungeon-architect-docs/ut-10-08.png" title="Ut 10 08"  width="909" height="415"></figure></li><li class="list__item" id="9b33bdb1_62"><p id="9b33bdb1_63">Rename it to <code class="code" id="9b33bdb1_64">PM_Enemies</code></p><figure  id="9b33bdb1_65"><img alt="Ut 10 09" src="dungeon-architect-docs/ut-10-09.png" title="Ut 10 09"  width="279" height="104"></figure></li><li class="list__item" id="9b33bdb1_66"><p id="9b33bdb1_67">Select the <code class="code" id="9b33bdb1_68">PM_Enemies</code> prefab and inspect the properties. Add a <code class="code" id="9b33bdb1_69">Grunt</code> marker (since we specified this earlier in the <code class="code" id="9b33bdb1_70">Spawn Items</code> node). Add a few more markers for future use like <code class="code" id="9b33bdb1_71">IceTroll</code>, <code class="code" id="9b33bdb1_72">FireTroll</code>, <code class="code" id="9b33bdb1_73">Goblin</code></p><figure  id="9b33bdb1_74"><img alt="Ut 10 10" src="dungeon-architect-docs/ut-10-10.png" title="Ut 10 10"  width="456" height="284"></figure></li></ol></section><section class="chapter"><h3 id="add-to-snap-modules" data-toc="add-to-snap-modules"   >Add to Snap Modules</h3><p id="9b33bdb1_75">Open up the previously created room module</p><figure  id="9b33bdb1_76"><img alt="Ut 10 11" src="dungeon-architect-docs/ut-10-11.png" title="Ut 10 11"  width="270" height="156"></figure><figure  id="9b33bdb1_77"><img alt="Ut 10 12" src="dungeon-architect-docs/ut-10-12.png" title="Ut 10 12"  width="455" height="194"></figure><figure  id="9b33bdb1_78"><img alt="Ut 10 13" src="dungeon-architect-docs/ut-10-13.jpg" title="Ut 10 13"  width="1000" height="762"></figure><p id="9b33bdb1_79">We went ahead and added a bit of geometry int he room</p><figure  id="9b33bdb1_80"><img alt="Ut 10 18" src="dungeon-architect-docs/ut-10-18.jpg" title="Ut 10 18"  width="773" height="553"></figure><p id="9b33bdb1_81">The snap system gives complete freedom to the artist to design the room as they see fit. In that same spirit, the artist should also have control on where the markers spawn. This is where placeable markers come in</p><p id="9b33bdb1_82">Drag drop the placeable marker prefab that you've created before, on to the scene</p><figure  id="9b33bdb1_83"><img alt="Ut 10 14" src="dungeon-architect-docs/ut-10-14.jpg" title="Ut 10 14"  width="726" height="574"></figure><p id="9b33bdb1_84">This will spawn a placeable marker game object on the scene. When selected, it shows the descripton (<code class="code" id="9b33bdb1_85">Debug Text</code>) of the placeable marker.</p><figure  id="9b33bdb1_86"><img alt="Ut 10 15" src="dungeon-architect-docs/ut-10-15.png" title="Ut 10 15"  width="365" height="320"></figure><p id="9b33bdb1_87">Rotate the actor as needed. The red arrow shows the orientation of the marker. When the theme engine spawns an actor here, it will do so with this rotation</p><figure  id="9b33bdb1_88"><img alt="Ut 10 16" src="dungeon-architect-docs/ut-10-16.png" title="Ut 10 16"  width="784" height="547"></figure><p id="9b33bdb1_89">Add a few more markers. Add at least 4 markers, since we are adding a maximum of 4 enemy items per node in the flow graph using <code class="code" id="9b33bdb1_90">Spawn Item</code>, but adding more is always better</p><figure  id="9b33bdb1_91"><img alt="Ut 10 17" src="dungeon-architect-docs/ut-10-17.jpg" title="Ut 10 17"  width="878" height="683"></figure><p id="9b33bdb1_92">We'll add a few more on top of the ramp</p><figure  id="9b33bdb1_93"><img alt="Ut 10 19" src="dungeon-architect-docs/ut-10-19.jpg" title="Ut 10 19"  width="838" height="648"></figure><figure  id="9b33bdb1_94"><img alt="Ut 10 20" src="dungeon-architect-docs/ut-10-20.jpg" title="Ut 10 20"  width="1205" height="691"></figure><p id="9b33bdb1_95">Do this for all the modules you've created so far that would need this marker in it</p><p id="9b33bdb1_96">Open up the Lift module and add a few more placeable markers there</p><figure  id="9b33bdb1_97"><img alt="Ut 10 21" src="dungeon-architect-docs/ut-10-21.png" title="Ut 10 21"  width="211" height="154"></figure><figure  id="9b33bdb1_98"><img alt="Ut 10 22" src="dungeon-architect-docs/ut-10-22.png" title="Ut 10 22"  width="354" height="186"></figure><figure  id="9b33bdb1_99"><img alt="Ut 10 23" src="dungeon-architect-docs/ut-10-23.jpg" title="Ut 10 23"  width="1000" height="608"></figure><figure  id="9b33bdb1_100"><img alt="Ut 10 24" src="dungeon-architect-docs/ut-10-24.jpg" title="Ut 10 24"  width="864" height="688"></figure><p id="9b33bdb1_101">Open up the <code class="code" id="9b33bdb1_102">2x1x1</code> and <code class="code" id="9b33bdb1_103">2x2x2</code> Room modules and add the markers there as well</p><figure  id="9b33bdb1_104"><img alt="Ut 10 39" src="dungeon-architect-docs/ut-10-39.png" title="Ut 10 39"  width="813" height="654"></figure><figure  id="9b33bdb1_105"><img alt="Ut 10 40" src="dungeon-architect-docs/ut-10-40.png" title="Ut 10 40"  width="810" height="657"></figure></section></section><section class="chapter"><h2 id="rebuild-module-database-cache" data-toc="rebuild-module-database-cache"   >Rebuild Module Database Cache</h2><p id="9b33bdb1_106">If you add / remove a placeable marker from a snap module, you'll need to rebuild the module database cache</p><p id="9b33bdb1_107">Select the Module database asset that we created in the previous section and in the inspector, click <code class="code" id="9b33bdb1_108">Build Module Cache</code> button. Save the module database asset</p><figure  id="9b33bdb1_109"><img alt="Ut 10 25" src="dungeon-architect-docs/ut-10-25.png" title="Ut 10 25"  width="258" height="176"></figure><figure  id="9b33bdb1_110"><img alt="Ut 10 26" src="dungeon-architect-docs/ut-10-26.png" title="Ut 10 26"  width="364" height="271"></figure><aside class="prompt" data-type="warning" data-title="" id="9b33bdb1_111"><p id="9b33bdb1_112">This is an important step. Remember to rebuild the cache when needed</p></aside></section><section class="chapter"><h2 id="update-theme-file" data-toc="update-theme-file"   >Update Theme File</h2><p id="9b33bdb1_113">We'll use a theme file to actually spawn our enemy prefab.</p><section class="chapter"><h3 id="open-theme-editor" data-toc="open-theme-editor"   >Open Theme Editor</h3><p id="9b33bdb1_114">Open up the existing theme file we created in the previous section.</p><figure  id="9b33bdb1_115"><img alt="Ut 10 27" src="dungeon-architect-docs/ut-10-27.png" title="Ut 10 27"  width="229" height="79"></figure><p id="9b33bdb1_116">Double click on the theme asset to open the theme editor</p><figure  id="9b33bdb1_117"><img alt="Ut 10 28" src="dungeon-architect-docs/ut-10-28.png" title="Ut 10 28"  width="998" height="654"></figure><p id="9b33bdb1_118">Box select all the marker nodes and delete them</p><figure  id="9b33bdb1_119"><img alt="Ut 10 29" src="dungeon-architect-docs/ut-10-29.png" title="Ut 10 29"  width="999" height="755"></figure><figure  id="9b33bdb1_120"><img alt="Ut 10 30" src="dungeon-architect-docs/ut-10-30.png" title="Ut 10 30"  width="999" height="755"></figure></section><section class="chapter"><h3 id="create-marker" data-toc="create-marker"   >Create Marker</h3><p id="9b33bdb1_121">In the previous section, we assign the marker name of <code class="code" id="9b33bdb1_122">Grunt</code> in the <code class="code" id="9b33bdb1_123">Spawn Items</code> node. In the theme file, we'll create a new marker node and name it <code class="code" id="9b33bdb1_124">Grunt</code></p><p id="9b33bdb1_125">Right click on the graph and choose <code class="code" id="9b33bdb1_126">Add Marker Node</code></p><figure  id="9b33bdb1_127"><img alt="Ut 10 31" src="dungeon-architect-docs/ut-10-31.png" title="Ut 10 31"  width="470" height="287"></figure><p id="9b33bdb1_128">Select the marker node and from the inspector, change the Marker name to <code class="code" id="9b33bdb1_129">Grunt</code></p><figure  id="9b33bdb1_130"><img alt="Ut 10 32" src="dungeon-architect-docs/ut-10-32.png" title="Ut 10 32"  width="264" height="175"></figure><figure  id="9b33bdb1_131"><img alt="Ut 10 33" src="dungeon-architect-docs/ut-10-33.png" title="Ut 10 33"  width="327" height="166"></figure><figure  id="9b33bdb1_132"><img alt="Ut 10 34" src="dungeon-architect-docs/ut-10-34.png" title="Ut 10 34"  width="249" height="157"></figure></section><section class="chapter"><h3 id="add-enemy-prefab" data-toc="add-enemy-prefab"   >Add Enemy prefab</h3><p id="9b33bdb1_133">Add your NPC character prefab here. For this tutorial, we'll add a cube and adjust the size and scale</p><p id="9b33bdb1_134">Navigate to <code class="code" id="9b33bdb1_135">Assets &gt; CodeRespawn &gt; DungeonArchitect_Samples &gt; Demo_Theme_SimpleShapes &gt; Prefabs</code> and drop in <code class="code" id="9b33bdb1_136">Cube_Red</code> and connect it the <code class="code" id="9b33bdb1_137">Grunt</code> marker node to it</p><figure  id="9b33bdb1_138"><img alt="Ut 10 35" src="dungeon-architect-docs/ut-10-35.png" title="Ut 10 35"  width="738" height="381"></figure><p id="9b33bdb1_139">Select the cube node that you just dropped and adjust the scale and position</p><figure  id="9b33bdb1_140"><img alt="Ut 10 36" src="dungeon-architect-docs/ut-10-36.png" title="Ut 10 36"  width="534" height="370"></figure><p id="9b33bdb1_141">Save and close the Theme Editor</p></section></section><section class="chapter"><h2 id="build-dungeon" data-toc="build-dungeon"   >Build Dungeon</h2><p id="9b33bdb1_142">Open the map where we previously configured our dungeon and build it.</p><p id="9b33bdb1_143">You'll see that enemies start to spawn at the locations where you've placed the markers</p><figure  id="9b33bdb1_144"><img alt="Ut 10 37" src="dungeon-architect-docs/ut-10-37.jpg" title="Ut 10 37"  width="991" height="672"></figure><figure  id="9b33bdb1_145"><img alt="Ut 10 38" src="dungeon-architect-docs/ut-10-38.jpg" title="Ut 10 38"  width="976" height="712"></figure><p id="9b33bdb1_146">You can use this system to spawn anything (treasure chests, weapon racks, power ups or any gameplay prefab)</p></section><div class="last-modified"> Last modified: 24 January 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="sgf-build-dungeon.html">Build Dungeon</a>   <a class="navigation-links__next" href="sgf-setup-key-locks.html">Setup Key-Locks</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script></body></html>